(function(){var l=this,g,y=l.jQuery,p=l.$,o=l.jQuery=l.$=function(E,F){return new o.fn.init(E,F)},D=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,f=/^.[^:#\[\.,]*$/;o.fn=o.prototype={init:function(E,H){E=E||document;if(E.nodeType){this[0]=E;this.length=1;this.context=E;return this}if(typeof E==="string"){var G=D.exec(E);if(G&&(G[1]||!H)){if(G[1]){E=o.clean([G[1]],H)}else{var I=document.getElementById(G[3]);if(I&&I.id!=G[3]){return o().find(E)}var F=o(I||[]);F.context=document;F.selector=E;return F}}else{return o(H).find(E)}}else{if(o.isFunction(E)){return o(document).ready(E)}}if(E.selector&&E.context){this.selector=E.selector;this.context=E.context}return this.setArray(o.makeArray(E))},selector:"",jquery:"1.3.1",size:function(){return this.length},get:function(E){return E===g?o.makeArray(this):this[E]},pushStack:function(F,H,E){var G=o(F);G.prevObject=this;G.context=this.context;if(H==="find"){G.selector=this.selector+(this.selector?" ":"")+E}else{if(H){G.selector=this.selector+"."+H+"("+E+")"}}return G},setArray:function(E){this.length=0;Array.prototype.push.apply(this,E);return this},each:function(F,E){return o.each(this,F,E)},index:function(E){return o.inArray(E&&E.jquery?E[0]:E,this)},attr:function(F,H,G){var E=F;if(typeof F==="string"){if(H===g){return this[0]&&o[G||"attr"](this[0],F)}else{E={};E[F]=H}}return this.each(function(I){for(F in E){o.attr(G?this.style:this,F,o.prop(this,E[F],G,I,F))}})},css:function(E,F){if((E=="width"||E=="height")&&parseFloat(F)<0){F=g}return this.attr(E,F,"curCSS")},text:function(F){if(typeof F!=="object"&&F!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(F))}var E="";o.each(F||this,function(){o.each(this.childNodes,function(){if(this.nodeType!=8){E+=this.nodeType!=1?this.nodeValue:o.fn.text([this])}})});return E},wrapAll:function(E){if(this[0]){var F=o(E,this[0].ownerDocument).clone();if(this[0].parentNode){F.insertBefore(this[0])}F.map(function(){var G=this;while(G.firstChild){G=G.firstChild}return G}).append(this)}return this},wrapInner:function(E){return this.each(function(){o(this).contents().wrapAll(E)})},wrap:function(E){return this.each(function(){o(this).wrapAll(E)})},append:function(){return this.domManip(arguments,true,function(E){if(this.nodeType==1){this.appendChild(E)}})},prepend:function(){return this.domManip(arguments,true,function(E){if(this.nodeType==1){this.insertBefore(E,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(E){this.parentNode.insertBefore(E,this)})},after:function(){return this.domManip(arguments,false,function(E){this.parentNode.insertBefore(E,this.nextSibling)})},end:function(){return this.prevObject||o([])},push:[].push,find:function(E){if(this.length===1&&!/,/.test(E)){var G=this.pushStack([],"find",E);G.length=0;o.find(E,this[0],G);return G}else{var F=o.map(this,function(H){return o.find(E,H)});return this.pushStack(/[^+>] [^+>]/.test(E)?o.unique(F):F,"find",E)}},clone:function(F){var E=this.map(function(){if(!o.support.noCloneEvent&&!o.isXMLDoc(this)){var I=this.cloneNode(true),H=document.createElement("div");H.appendChild(I);return o.clean([H.innerHTML])[0]}else{return this.cloneNode(true)}});var G=E.find("*").andSelf().each(function(){if(this[h]!==g){this[h]=null}});if(F===true){this.find("*").andSelf().each(function(I){if(this.nodeType==3){return}var H=o.data(this,"events");for(var K in H){for(var J in H[K]){o.event.add(G[I],K,H[K][J],H[K][J].data)}}})}return E},filter:function(E){return this.pushStack(o.isFunction(E)&&o.grep(this,function(G,F){return E.call(G,F)})||o.multiFilter(E,o.grep(this,function(F){return F.nodeType===1})),"filter",E)},closest:function(E){var F=o.expr.match.POS.test(E)?o(E):null;return this.map(function(){var G=this;while(G&&G.ownerDocument){if(F?F.index(G)>-1:o(G).is(E)){return G}G=G.parentNode}})},not:function(E){if(typeof E==="string"){if(f.test(E)){return this.pushStack(o.multiFilter(E,this,true),"not",E)}else{E=o.multiFilter(E,this)}}var F=E.length&&E[E.length-1]!==g&&!E.nodeType;return this.filter(function(){return F?o.inArray(this,E)<0:this!=E})},add:function(E){return this.pushStack(o.unique(o.merge(this.get(),typeof E==="string"?o(E):o.makeArray(E))))},is:function(E){return !!E&&o.multiFilter(E,this).length>0},hasClass:function(E){return !!E&&this.is("."+E)},val:function(K){if(K===g){var E=this[0];if(E){if(o.nodeName(E,"option")){return(E.attributes.value||{}).specified?E.value:E.text}if(o.nodeName(E,"select")){var I=E.selectedIndex,L=[],M=E.options,H=E.type=="select-one";if(I<0){return null}for(var F=H?I:0,J=H?I+1:M.length;F<J;F++){var G=M[F];if(G.selected){K=o(G).val();if(H){return K}L.push(K)}}return L}return(E.value||"").replace(/\r/g,"")}return g}if(typeof K==="number"){K+=""}return this.each(function(){if(this.nodeType!=1){return}if(o.isArray(K)&&/radio|checkbox/.test(this.type)){this.checked=(o.inArray(this.value,K)>=0||o.inArray(this.name,K)>=0)}else{if(o.nodeName(this,"select")){var N=o.makeArray(K);o("option",this).each(function(){this.selected=(o.inArray(this.value,N)>=0||o.inArray(this.text,N)>=0)});if(!N.length){this.selectedIndex=-1}}else{this.value=K}}})},html:function(E){return E===g?(this[0]?this[0].innerHTML:null):this.empty().append(E)},replaceWith:function(E){return this.after(E).remove()},eq:function(E){return this.slice(E,+E+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(E){return this.pushStack(o.map(this,function(G,F){return E.call(G,F,G)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(K,N,M){if(this[0]){var J=(this[0].ownerDocument||this[0]).createDocumentFragment(),G=o.clean(K,(this[0].ownerDocument||this[0]),J),I=J.firstChild,E=this.length>1?J.cloneNode(true):J;if(I){for(var H=0,F=this.length;H<F;H++){M.call(L(this[H],I),H>0?E.cloneNode(true):J)}}if(G){o.each(G,z)}}return this;function L(O,P){return N&&o.nodeName(O,"table")&&o.nodeName(P,"tr")?(O.getElementsByTagName("tbody")[0]||O.appendChild(O.ownerDocument.createElement("tbody"))):O}}};o.fn.init.prototype=o.fn;function z(E,F){if(F.src){o.ajax({url:F.src,async:false,dataType:"script"})}else{o.globalEval(F.text||F.textContent||F.innerHTML||"")}if(F.parentNode){F.parentNode.removeChild(F)}}function e(){return +new Date}o.extend=o.fn.extend=function(){var J=arguments[0]||{},H=1,I=arguments.length,E=false,G;if(typeof J==="boolean"){E=J;J=arguments[1]||{};H=2}if(typeof J!=="object"&&!o.isFunction(J)){J={}}if(I==H){J=this;--H}for(;H<I;H++){if((G=arguments[H])!=null){for(var F in G){var K=J[F],L=G[F];if(J===L){continue}if(E&&L&&typeof L==="object"&&!L.nodeType){J[F]=o.extend(E,K||(L.length!=null?[]:{}),L)}else{if(L!==g){J[F]=L}}}}}return J};var b=/z-?index|font-?weight|opacity|zoom|line-?height/i,q=document.defaultView||{},s=Object.prototype.toString;o.extend({noConflict:function(E){l.$=p;if(E){l.jQuery=y}return o},isFunction:function(E){return s.call(E)==="[object Function]"},isArray:function(E){return s.call(E)==="[object Array]"},isXMLDoc:function(E){return E.nodeType===9&&E.documentElement.nodeName!=="HTML"||!!E.ownerDocument&&o.isXMLDoc(E.ownerDocument)},globalEval:function(G){G=o.trim(G);if(G){var F=document.getElementsByTagName("head")[0]||document.documentElement,E=document.createElement("script");E.type="text/javascript";if(o.support.scriptEval){E.appendChild(document.createTextNode(G))}else{E.text=G}F.insertBefore(E,F.firstChild);F.removeChild(E)}},nodeName:function(F,E){return F.nodeName&&F.nodeName.toUpperCase()==E.toUpperCase()},each:function(G,K,F){var E,H=0,I=G.length;if(F){if(I===g){for(E in G){if(K.apply(G[E],F)===false){break}}}else{for(;H<I;){if(K.apply(G[H++],F)===false){break}}}}else{if(I===g){for(E in G){if(K.call(G[E],E,G[E])===false){break}}}else{for(var J=G[0];H<I&&K.call(J,H,J)!==false;J=G[++H]){}}}return G},prop:function(H,I,G,F,E){if(o.isFunction(I)){I=I.call(H,F)}return typeof I==="number"&&G=="curCSS"&&!b.test(E)?I+"px":I},className:{add:function(E,F){o.each((F||"").split(/\s+/),function(G,H){if(E.nodeType==1&&!o.className.has(E.className,H)){E.className+=(E.className?" ":"")+H}})},remove:function(E,F){if(E.nodeType==1){E.className=F!==g?o.grep(E.className.split(/\s+/),function(G){return !o.className.has(F,G)}).join(" "):""}},has:function(F,E){return F&&o.inArray(E,(F.className||F).toString().split(/\s+/))>-1}},swap:function(H,G,I){var E={};for(var F in G){E[F]=H.style[F];H.style[F]=G[F]}I.call(H);for(var F in G){H.style[F]=E[F]}},css:function(G,E,I){if(E=="width"||E=="height"){var K,F={position:"absolute",visibility:"hidden",display:"block"},J=E=="width"?["Left","Right"]:["Top","Bottom"];function H(){K=E=="width"?G.offsetWidth:G.offsetHeight;var M=0,L=0;o.each(J,function(){M+=parseFloat(o.curCSS(G,"padding"+this,true))||0;L+=parseFloat(o.curCSS(G,"border"+this+"Width",true))||0});K-=Math.round(M+L)}if(o(G).is(":visible")){H()}else{o.swap(G,F,H)}return Math.max(0,K)}return o.curCSS(G,E,I)},curCSS:function(I,F,G){var L,E=I.style;if(F=="opacity"&&!o.support.opacity){L=o.attr(E,"opacity");return L==""?"1":L}if(F.match(/float/i)){F=w}if(!G&&E&&E[F]){L=E[F]}else{if(q.getComputedStyle){if(F.match(/float/i)){F="float"}F=F.replace(/([A-Z])/g,"-$1").toLowerCase();var M=q.getComputedStyle(I,null);if(M){L=M.getPropertyValue(F)}if(F=="opacity"&&L==""){L="1"}}else{if(I.currentStyle){var J=F.replace(/\-(\w)/g,function(N,O){return O.toUpperCase()});L=I.currentStyle[F]||I.currentStyle[J];if(!/^\d+(px)?$/i.test(L)&&/^\d/.test(L)){var H=E.left,K=I.runtimeStyle.left;I.runtimeStyle.left=I.currentStyle.left;E.left=L||0;L=E.pixelLeft+"px";E.left=H;I.runtimeStyle.left=K}}}}return L},clean:function(F,K,I){K=K||document;if(typeof K.createElement==="undefined"){K=K.ownerDocument||K[0]&&K[0].ownerDocument||document}if(!I&&F.length===1&&typeof F[0]==="string"){var H=/^<(\w+)\s*\/?>$/.exec(F[0]);if(H){return[K.createElement(H[1])]}}var G=[],E=[],L=K.createElement("div");o.each(F,function(P,R){if(typeof R==="number"){R+=""}if(!R){return}if(typeof R==="string"){R=R.replace(/(<(\w+)[^>]*?)\/>/g,function(T,U,S){return S.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?T:U+"></"+S+">"});var O=o.trim(R).toLowerCase();var Q=!O.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!O.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||O.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!O.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!O.indexOf("<td")||!O.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!O.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!o.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];L.innerHTML=Q[1]+R+Q[2];while(Q[0]--){L=L.lastChild}if(!o.support.tbody){var N=!O.indexOf("<table")&&O.indexOf("<tbody")<0?L.firstChild&&L.firstChild.childNodes:Q[1]=="<table>"&&O.indexOf("<tbody")<0?L.childNodes:[];for(var M=N.length-1;M>=0;--M){if(o.nodeName(N[M],"tbody")&&!N[M].childNodes.length){N[M].parentNode.removeChild(N[M])}}}if(!o.support.leadingWhitespace&&/^\s/.test(R)){L.insertBefore(K.createTextNode(R.match(/^\s*/)[0]),L.firstChild)}R=o.makeArray(L.childNodes)}if(R.nodeType){G.push(R)}else{G=o.merge(G,R)}});if(I){for(var J=0;G[J];J++){if(o.nodeName(G[J],"script")&&(!G[J].type||G[J].type.toLowerCase()==="text/javascript")){E.push(G[J].parentNode?G[J].parentNode.removeChild(G[J]):G[J])}else{if(G[J].nodeType===1){G.splice.apply(G,[J+1,0].concat(o.makeArray(G[J].getElementsByTagName("script"))))}I.appendChild(G[J])}}return E}return G},attr:function(J,G,K){if(!J||J.nodeType==3||J.nodeType==8){return g}var H=!o.isXMLDoc(J),L=K!==g;G=H&&o.props[G]||G;if(J.tagName){var F=/href|src|style/.test(G);if(G=="selected"&&J.parentNode){J.parentNode.selectedIndex}if(G in J&&H&&!F){if(L){if(G=="type"&&o.nodeName(J,"input")&&J.parentNode){throw"type property can't be changed"}J[G]=K}if(o.nodeName(J,"form")&&J.getAttributeNode(G)){return J.getAttributeNode(G).nodeValue}if(G=="tabIndex"){var I=J.getAttributeNode("tabIndex");return I&&I.specified?I.value:J.nodeName.match(/(button|input|object|select|textarea)/i)?0:J.nodeName.match(/^(a|area)$/i)&&J.href?0:g}return J[G]}if(!o.support.style&&H&&G=="style"){return o.attr(J.style,"cssText",K)}if(L){J.setAttribute(G,""+K)}var E=!o.support.hrefNormalized&&H&&F?J.getAttribute(G,2):J.getAttribute(G);return E===null?g:E}if(!o.support.opacity&&G=="opacity"){if(L){J.zoom=1;J.filter=(J.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(K)+""=="NaN"?"":"alpha(opacity="+K*100+")")}return J.filter&&J.filter.indexOf("opacity=")>=0?(parseFloat(J.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}G=G.replace(/-([a-z])/ig,function(M,N){return N.toUpperCase()});if(L){J[G]=K}return J[G]},trim:function(E){return(E||"").replace(/^\s+|\s+$/g,"")},makeArray:function(G){var E=[];if(G!=null){var F=G.length;if(F==null||typeof G==="string"||o.isFunction(G)||G.setInterval){E[0]=G}else{while(F){E[--F]=G[F]}}}return E},inArray:function(G,H){for(var E=0,F=H.length;E<F;E++){if(H[E]===G){return E}}return -1},merge:function(H,E){var F=0,G,I=H.length;if(!o.support.getAll){while((G=E[F++])!=null){if(G.nodeType!=8){H[I++]=G}}}else{while((G=E[F++])!=null){H[I++]=G}}return H},unique:function(K){var F=[],E={};try{for(var G=0,H=K.length;G<H;G++){var J=o.data(K[G]);if(!E[J]){E[J]=true;F.push(K[G])}}}catch(I){F=K}return F},grep:function(F,J,E){var G=[];for(var H=0,I=F.length;H<I;H++){if(!E!=!J(F[H],H)){G.push(F[H])}}return G},map:function(E,J){var F=[];for(var G=0,H=E.length;G<H;G++){var I=J(E[G],G);if(I!=null){F[F.length]=I}}return F.concat.apply([],F)}});var C=navigator.userAgent.toLowerCase();o.browser={version:(C.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(C),opera:/opera/.test(C),msie:/msie/.test(C)&&!/opera/.test(C),mozilla:/mozilla/.test(C)&&!/(compatible|webkit)/.test(C)};o.each({parent:function(E){return E.parentNode},parents:function(E){return o.dir(E,"parentNode")},next:function(E){return o.nth(E,2,"nextSibling")},prev:function(E){return o.nth(E,2,"previousSibling")},nextAll:function(E){return o.dir(E,"nextSibling")},prevAll:function(E){return o.dir(E,"previousSibling")},siblings:function(E){return o.sibling(E.parentNode.firstChild,E)},children:function(E){return o.sibling(E.firstChild)},contents:function(E){return o.nodeName(E,"iframe")?E.contentDocument||E.contentWindow.document:o.makeArray(E.childNodes)}},function(E,F){o.fn[E]=function(G){var H=o.map(this,F);if(G&&typeof G=="string"){H=o.multiFilter(G,H)}return this.pushStack(o.unique(H),E,G)}});o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(E,F){o.fn[E]=function(){var G=arguments;return this.each(function(){for(var H=0,I=G.length;H<I;H++){o(G[H])[F](this)}})}});o.each({removeAttr:function(E){o.attr(this,E,"");if(this.nodeType==1){this.removeAttribute(E)}},addClass:function(E){o.className.add(this,E)},removeClass:function(E){o.className.remove(this,E)},toggleClass:function(F,E){if(typeof E!=="boolean"){E=!o.className.has(this,F)}o.className[E?"add":"remove"](this,F)},remove:function(E){if(!E||o.filter(E,[this]).length){o("*",this).add([this]).each(function(){o.event.remove(this);o.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){o(">*",this).remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(E,F){o.fn[E]=function(){return this.each(F,arguments)}});function j(E,F){return E[0]&&parseInt(o.curCSS(E[0],F,true),10)||0}var h="jQuery"+e(),v=0,A={};o.extend({cache:{},data:function(F,E,G){F=F==l?A:F;var H=F[h];if(!H){H=F[h]=++v}if(E&&!o.cache[H]){o.cache[H]={}}if(G!==g){o.cache[H][E]=G}return E?o.cache[H][E]:H},removeData:function(F,E){F=F==l?A:F;var H=F[h];if(E){if(o.cache[H]){delete o.cache[H][E];E="";for(E in o.cache[H]){break}if(!E){o.removeData(F)}}}else{try{delete F[h]}catch(G){if(F.removeAttribute){F.removeAttribute(h)}}delete o.cache[H]}},queue:function(F,E,H){if(F){E=(E||"fx")+"queue";var G=o.data(F,E);if(!G||o.isArray(H)){G=o.data(F,E,o.makeArray(H))}else{if(H){G.push(H)}}}return G},dequeue:function(H,G){var E=o.queue(H,G),F=E.shift();if(!G||G==="fx"){F=E[0]}if(F!==g){F.call(H)}}});o.fn.extend({data:function(E,G){var H=E.split(".");H[1]=H[1]?"."+H[1]:"";if(G===g){var F=this.triggerHandler("getData"+H[1]+"!",[H[0]]);if(F===g&&this.length){F=o.data(this[0],E)}return F===g&&H[1]?this.data(H[0]):F}else{return this.trigger("setData"+H[1]+"!",[H[0],G]).each(function(){o.data(this,E,G)})}},removeData:function(E){return this.each(function(){o.removeData(this,E)})},queue:function(E,F){if(typeof E!=="string"){F=E;E="fx"}if(F===g){return o.queue(this[0],E)}return this.each(function(){var G=o.queue(this,E,F);if(E=="fx"&&G.length==1){G[0].call(this)}})},dequeue:function(E){return this.each(function(){o.dequeue(this,E)})}});
/*
 * Sizzle CSS Selector Engine - v0.9.3
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var Q=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]+['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[]+)+|[>+~])(\s*,\s*)?/g,K=0,G=Object.prototype.toString;var F=function(X,T,aa,ab){aa=aa||[];T=T||document;if(T.nodeType!==1&&T.nodeType!==9){return[]}if(!X||typeof X!=="string"){return aa}var Y=[],V,ae,ah,S,ac,U,W=true;Q.lastIndex=0;while((V=Q.exec(X))!==null){Y.push(V[1]);if(V[2]){U=RegExp.rightContext;break}}if(Y.length>1&&L.exec(X)){if(Y.length===2&&H.relative[Y[0]]){ae=I(Y[0]+Y[1],T)}else{ae=H.relative[Y[0]]?[T]:F(Y.shift(),T);while(Y.length){X=Y.shift();if(H.relative[X]){X+=Y.shift()}ae=I(X,ae)}}}else{var ad=ab?{expr:Y.pop(),set:E(ab)}:F.find(Y.pop(),Y.length===1&&T.parentNode?T.parentNode:T,P(T));ae=F.filter(ad.expr,ad.set);if(Y.length>0){ah=E(ae)}else{W=false}while(Y.length){var ag=Y.pop(),af=ag;if(!H.relative[ag]){ag=""}else{af=Y.pop()}if(af==null){af=T}H.relative[ag](ah,af,P(T))}}if(!ah){ah=ae}if(!ah){throw"Syntax error, unrecognized expression: "+(ag||X)}if(G.call(ah)==="[object Array]"){if(!W){aa.push.apply(aa,ah)}else{if(T.nodeType===1){for(var Z=0;ah[Z]!=null;Z++){if(ah[Z]&&(ah[Z]===true||ah[Z].nodeType===1&&J(T,ah[Z]))){aa.push(ae[Z])}}}else{for(var Z=0;ah[Z]!=null;Z++){if(ah[Z]&&ah[Z].nodeType===1){aa.push(ae[Z])}}}}}else{E(ah,aa)}if(U){F(U,T,aa,ab)}return aa};F.matches=function(S,T){return F(S,null,null,T)};F.find=function(Z,S,aa){var Y,W;if(!Z){return[]}for(var V=0,U=H.order.length;V<U;V++){var X=H.order[V],W;if((W=H.match[X].exec(Z))){var T=RegExp.leftContext;if(T.substr(T.length-1)!=="\\"){W[1]=(W[1]||"").replace(/\\/g,"");Y=H.find[X](W,S,aa);if(Y!=null){Z=Z.replace(H.match[X],"");break}}}}if(!Y){Y=S.getElementsByTagName("*")}return{set:Y,expr:Z}};F.filter=function(ab,aa,ae,V){var U=ab,ag=[],Y=aa,X,S;while(ab&&aa.length){for(var Z in H.filter){if((X=H.match[Z].exec(ab))!=null){var T=H.filter[Z],af,ad;S=false;if(Y==ag){ag=[]}if(H.preFilter[Z]){X=H.preFilter[Z](X,Y,ae,ag,V);if(!X){S=af=true}else{if(X===true){continue}}}if(X){for(var W=0;(ad=Y[W])!=null;W++){if(ad){af=T(ad,X,W,Y);var ac=V^!!af;if(ae&&af!=null){if(ac){S=true}else{Y[W]=false}}else{if(ac){ag.push(ad);S=true}}}}}if(af!==g){if(!ae){Y=ag}ab=ab.replace(H.match[Z],"");if(!S){return[]}break}}}ab=ab.replace(/\s*,\s*/,"");if(ab==U){if(S==null){throw"Syntax error, unrecognized expression: "+ab}else{break}}U=ab}return Y};var H=F.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(S){return S.getAttribute("href")}},relative:{"+":function(W,T){for(var U=0,S=W.length;U<S;U++){var V=W[U];if(V){var X=V.previousSibling;while(X&&X.nodeType!==1){X=X.previousSibling}W[U]=typeof T==="string"?X||false:X===T}}if(typeof T==="string"){F.filter(T,W,true)}},">":function(X,T,Y){if(typeof T==="string"&&!/\W/.test(T)){T=Y?T:T.toUpperCase();for(var U=0,S=X.length;U<S;U++){var W=X[U];if(W){var V=W.parentNode;X[U]=V.nodeName===T?V:false}}}else{for(var U=0,S=X.length;U<S;U++){var W=X[U];if(W){X[U]=typeof T==="string"?W.parentNode:W.parentNode===T}}if(typeof T==="string"){F.filter(T,X,true)}}},"":function(V,T,X){var U="done"+(K++),S=R;if(!T.match(/\W/)){var W=T=X?T:T.toUpperCase();S=O}S("parentNode",T,U,V,W,X)},"~":function(V,T,X){var U="done"+(K++),S=R;if(typeof T==="string"&&!T.match(/\W/)){var W=T=X?T:T.toUpperCase();S=O}S("previousSibling",T,U,V,W,X)}},find:{ID:function(T,U,V){if(typeof U.getElementById!=="undefined"&&!V){var S=U.getElementById(T[1]);return S?[S]:[]}},NAME:function(S,T,U){if(typeof T.getElementsByName!=="undefined"&&!U){return T.getElementsByName(S[1])}},TAG:function(S,T){return T.getElementsByTagName(S[1])}},preFilter:{CLASS:function(V,T,U,S,Y){V=" "+V[1].replace(/\\/g,"")+" ";var X;for(var W=0;(X=T[W])!=null;W++){if(X){if(Y^(" "+X.className+" ").indexOf(V)>=0){if(!U){S.push(X)}}else{if(U){T[W]=false}}}}return false},ID:function(S){return S[1].replace(/\\/g,"")},TAG:function(T,S){for(var U=0;S[U]===false;U++){}return S[U]&&P(S[U])?T[1]:T[1].toUpperCase()},CHILD:function(S){if(S[1]=="nth"){var T=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(S[2]=="even"&&"2n"||S[2]=="odd"&&"2n+1"||!/\D/.test(S[2])&&"0n+"+S[2]||S[2]);S[2]=(T[1]+(T[2]||1))-0;S[3]=T[3]-0}S[0]="done"+(K++);return S},ATTR:function(T){var S=T[1].replace(/\\/g,"");if(H.attrMap[S]){T[1]=H.attrMap[S]}if(T[2]==="~="){T[4]=" "+T[4]+" "}return T},PSEUDO:function(W,T,U,S,X){if(W[1]==="not"){if(W[3].match(Q).length>1){W[3]=F(W[3],null,null,T)}else{var V=F.filter(W[3],T,U,true^X);if(!U){S.push.apply(S,V)}return false}}else{if(H.match.POS.test(W[0])){return true}}return W},POS:function(S){S.unshift(true);return S}},filters:{enabled:function(S){return S.disabled===false&&S.type!=="hidden"},disabled:function(S){return S.disabled===true},checked:function(S){return S.checked===true},selected:function(S){S.parentNode.selectedIndex;return S.selected===true},parent:function(S){return !!S.firstChild},empty:function(S){return !S.firstChild},has:function(U,T,S){return !!F(S[3],U).length},header:function(S){return/h\d/i.test(S.nodeName)},text:function(S){return"text"===S.type},radio:function(S){return"radio"===S.type},checkbox:function(S){return"checkbox"===S.type},file:function(S){return"file"===S.type},password:function(S){return"password"===S.type},submit:function(S){return"submit"===S.type},image:function(S){return"image"===S.type},reset:function(S){return"reset"===S.type},button:function(S){return"button"===S.type||S.nodeName.toUpperCase()==="BUTTON"},input:function(S){return/input|select|textarea|button/i.test(S.nodeName)}},setFilters:{first:function(T,S){return S===0},last:function(U,T,S,V){return T===V.length-1},even:function(T,S){return S%2===0},odd:function(T,S){return S%2===1},lt:function(U,T,S){return T<S[3]-0},gt:function(U,T,S){return T>S[3]-0},nth:function(U,T,S){return S[3]-0==T},eq:function(U,T,S){return S[3]-0==T}},filter:{CHILD:function(S,V){var Y=V[1],Z=S.parentNode;var X=V[0];if(Z&&(!Z[X]||!S.nodeIndex)){var W=1;for(var T=Z.firstChild;T;T=T.nextSibling){if(T.nodeType==1){T.nodeIndex=W++}}Z[X]=W-1}if(Y=="first"){return S.nodeIndex==1}else{if(Y=="last"){return S.nodeIndex==Z[X]}else{if(Y=="only"){return Z[X]==1}else{if(Y=="nth"){var ab=false,U=V[2],aa=V[3];if(U==1&&aa==0){return true}if(U==0){if(S.nodeIndex==aa){ab=true}}else{if((S.nodeIndex-aa)%U==0&&(S.nodeIndex-aa)/U>=0){ab=true}}return ab}}}}},PSEUDO:function(Y,U,V,Z){var T=U[1],W=H.filters[T];if(W){return W(Y,V,U,Z)}else{if(T==="contains"){return(Y.textContent||Y.innerText||"").indexOf(U[3])>=0}else{if(T==="not"){var X=U[3];for(var V=0,S=X.length;V<S;V++){if(X[V]===Y){return false}}return true}}}},ID:function(T,S){return T.nodeType===1&&T.getAttribute("id")===S},TAG:function(T,S){return(S==="*"&&T.nodeType===1)||T.nodeName===S},CLASS:function(T,S){return S.test(T.className)},ATTR:function(W,U){var S=H.attrHandle[U[1]]?H.attrHandle[U[1]](W):W[U[1]]||W.getAttribute(U[1]),X=S+"",V=U[2],T=U[4];return S==null?V==="!=":V==="="?X===T:V==="*="?X.indexOf(T)>=0:V==="~="?(" "+X+" ").indexOf(T)>=0:!U[4]?S:V==="!="?X!=T:V==="^="?X.indexOf(T)===0:V==="$="?X.substr(X.length-T.length)===T:V==="|="?X===T||X.substr(0,T.length+1)===T+"-":false},POS:function(W,T,U,X){var S=T[2],V=H.setFilters[S];if(V){return V(W,U,T,X)}}}};var L=H.match.POS;for(var N in H.match){H.match[N]=RegExp(H.match[N].source+/(?![^\[]*\])(?![^\(]*\))/.source)}var E=function(T,S){T=Array.prototype.slice.call(T);if(S){S.push.apply(S,T);return S}return T};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(M){E=function(W,V){var T=V||[];if(G.call(W)==="[object Array]"){Array.prototype.push.apply(T,W)}else{if(typeof W.length==="number"){for(var U=0,S=W.length;U<S;U++){T.push(W[U])}}else{for(var U=0;W[U];U++){T.push(W[U])}}}return T}}(function(){var T=document.createElement("form"),U="script"+(new Date).getTime();T.innerHTML="<input name='"+U+"'/>";var S=document.documentElement;S.insertBefore(T,S.firstChild);if(!!document.getElementById(U)){H.find.ID=function(W,X,Y){if(typeof X.getElementById!=="undefined"&&!Y){var V=X.getElementById(W[1]);return V?V.id===W[1]||typeof V.getAttributeNode!=="undefined"&&V.getAttributeNode("id").nodeValue===W[1]?[V]:g:[]}};H.filter.ID=function(X,V){var W=typeof X.getAttributeNode!=="undefined"&&X.getAttributeNode("id");return X.nodeType===1&&W&&W.nodeValue===V}}S.removeChild(T)})();(function(){var S=document.createElement("div");S.appendChild(document.createComment(""));if(S.getElementsByTagName("*").length>0){H.find.TAG=function(T,X){var W=X.getElementsByTagName(T[1]);if(T[1]==="*"){var V=[];for(var U=0;W[U];U++){if(W[U].nodeType===1){V.push(W[U])}}W=V}return W}}S.innerHTML="<a href='#'></a>";if(S.firstChild&&S.firstChild.getAttribute("href")!=="#"){H.attrHandle.href=function(T){return T.getAttribute("href",2)}}})();if(document.querySelectorAll){(function(){var S=F,T=document.createElement("div");T.innerHTML="<p class='TEST'></p>";if(T.querySelectorAll&&T.querySelectorAll(".TEST").length===0){return}F=function(X,W,U,V){W=W||document;if(!V&&W.nodeType===9&&!P(W)){try{return E(W.querySelectorAll(X),U)}catch(Y){}}return S(X,W,U,V)};F.find=S.find;F.filter=S.filter;F.selectors=S.selectors;F.matches=S.matches})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){H.order.splice(1,0,"CLASS");H.find.CLASS=function(S,T){return T.getElementsByClassName(S[1])}}function O(T,Z,Y,ac,aa,ab){for(var W=0,U=ac.length;W<U;W++){var S=ac[W];if(S){S=S[T];var X=false;while(S&&S.nodeType){var V=S[Y];if(V){X=ac[V];break}if(S.nodeType===1&&!ab){S[Y]=W}if(S.nodeName===Z){X=S;break}S=S[T]}ac[W]=X}}}function R(T,Y,X,ab,Z,aa){for(var V=0,U=ab.length;V<U;V++){var S=ab[V];if(S){S=S[T];var W=false;while(S&&S.nodeType){if(S[X]){W=ab[S[X]];break}if(S.nodeType===1){if(!aa){S[X]=V}if(typeof Y!=="string"){if(S===Y){W=true;break}}else{if(F.filter(Y,[S]).length>0){W=S;break}}}S=S[T]}ab[V]=W}}}var J=document.compareDocumentPosition?function(T,S){return T.compareDocumentPosition(S)&16}:function(T,S){return T!==S&&(T.contains?T.contains(S):true)};var P=function(S){return S.nodeType===9&&S.documentElement.nodeName!=="HTML"||!!S.ownerDocument&&P(S.ownerDocument)};var I=function(S,Z){var V=[],W="",X,U=Z.nodeType?[Z]:Z;while((X=H.match.PSEUDO.exec(S))){W+=X[0];S=S.replace(H.match.PSEUDO,"")}S=H.relative[S]?S+"*":S;for(var Y=0,T=U.length;Y<T;Y++){F(S,U[Y],V)}return F.filter(W,V)};o.find=F;o.filter=F.filter;o.expr=F.selectors;o.expr[":"]=o.expr.filters;F.selectors.filters.hidden=function(S){return"hidden"===S.type||o.css(S,"display")==="none"||o.css(S,"visibility")==="hidden"};F.selectors.filters.visible=function(S){return"hidden"!==S.type&&o.css(S,"display")!=="none"&&o.css(S,"visibility")!=="hidden"};F.selectors.filters.animated=function(S){return o.grep(o.timers,function(T){return S===T.elem}).length};o.multiFilter=function(U,S,T){if(T){U=":not("+U+")"}return F.matches(U,S)};o.dir=function(U,T){var S=[],V=U[T];while(V&&V!=document){if(V.nodeType==1){S.push(V)}V=V[T]}return S};o.nth=function(W,S,U,V){S=S||1;var T=0;for(;W;W=W[U]){if(W.nodeType==1&&++T==S){break}}return W};o.sibling=function(U,T){var S=[];for(;U;U=U.nextSibling){if(U.nodeType==1&&U!=T){S.push(U)}}return S};return;l.Sizzle=F})();o.event={add:function(I,F,H,K){if(I.nodeType==3||I.nodeType==8){return}if(I.setInterval&&I!=l){I=l}if(!H.guid){H.guid=this.guid++}if(K!==g){var G=H;H=this.proxy(G);H.data=K}var E=o.data(I,"events")||o.data(I,"events",{}),J=o.data(I,"handle")||o.data(I,"handle",function(){return typeof o!=="undefined"&&!o.event.triggered?o.event.handle.apply(arguments.callee.elem,arguments):g});J.elem=I;o.each(F.split(/\s+/),function(M,N){var O=N.split(".");N=O.shift();H.type=O.slice().sort().join(".");var L=E[N];if(o.event.specialAll[N]){o.event.specialAll[N].setup.call(I,K,O)}if(!L){L=E[N]={};if(!o.event.special[N]||o.event.special[N].setup.call(I,K,O)===false){if(I.addEventListener){I.addEventListener(N,J,false)}else{if(I.attachEvent){I.attachEvent("on"+N,J)}}}}L[H.guid]=H;o.event.global[N]=true});I=null},guid:1,global:{},remove:function(K,H,J){if(K.nodeType==3||K.nodeType==8){return}var G=o.data(K,"events"),F,E;if(G){if(H===g||(typeof H==="string"&&H.charAt(0)==".")){for(var I in G){this.remove(K,I+(H||""))}}else{if(H.type){J=H.handler;H=H.type}o.each(H.split(/\s+/),function(M,O){var Q=O.split(".");O=Q.shift();var N=RegExp("(^|\\.)"+Q.slice().sort().join(".*\\.")+"(\\.|$)");if(G[O]){if(J){delete G[O][J.guid]}else{for(var P in G[O]){if(N.test(G[O][P].type)){delete G[O][P]}}}if(o.event.specialAll[O]){o.event.specialAll[O].teardown.call(K,Q)}for(F in G[O]){break}if(!F){if(!o.event.special[O]||o.event.special[O].teardown.call(K,Q)===false){if(K.removeEventListener){K.removeEventListener(O,o.data(K,"handle"),false)}else{if(K.detachEvent){K.detachEvent("on"+O,o.data(K,"handle"))}}}F=null;delete G[O]}}})}for(F in G){break}if(!F){var L=o.data(K,"handle");if(L){L.elem=null}o.removeData(K,"events");o.removeData(K,"handle")}}},trigger:function(I,K,H,E){var G=I.type||I;if(!E){I=typeof I==="object"?I[h]?I:o.extend(o.Event(G),I):o.Event(G);if(G.indexOf("!")>=0){I.type=G=G.slice(0,-1);I.exclusive=true}if(!H){I.stopPropagation();if(this.global[G]){o.each(o.cache,function(){if(this.events&&this.events[G]){o.event.trigger(I,K,this.handle.elem)}})}}if(!H||H.nodeType==3||H.nodeType==8){return g}I.result=g;I.target=H;K=o.makeArray(K);K.unshift(I)}I.currentTarget=H;var J=o.data(H,"handle");if(J){J.apply(H,K)}if((!H[G]||(o.nodeName(H,"a")&&G=="click"))&&H["on"+G]&&H["on"+G].apply(H,K)===false){I.result=false}if(!E&&H[G]&&!I.isDefaultPrevented()&&!(o.nodeName(H,"a")&&G=="click")){this.triggered=true;try{H[G]()}catch(L){}}this.triggered=false;if(!I.isPropagationStopped()){var F=H.parentNode||H.ownerDocument;if(F){o.event.trigger(I,K,F,true)}}},handle:function(K){var J,E;K=arguments[0]=o.event.fix(K||l.event);var L=K.type.split(".");K.type=L.shift();J=!L.length&&!K.exclusive;var I=RegExp("(^|\\.)"+L.slice().sort().join(".*\\.")+"(\\.|$)");E=(o.data(this,"events")||{})[K.type];for(var G in E){var H=E[G];if(J||I.test(H.type)){K.handler=H;K.data=H.data;var F=H.apply(this,arguments);if(F!==g){K.result=F;if(F===false){K.preventDefault();K.stopPropagation()}}if(K.isImmediatePropagationStopped()){break}}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(H){if(H[h]){return H}var F=H;H=o.Event(F);for(var G=this.props.length,J;G;){J=this.props[--G];H[J]=F[J]}if(!H.target){H.target=H.srcElement||document}if(H.target.nodeType==3){H.target=H.target.parentNode}if(!H.relatedTarget&&H.fromElement){H.relatedTarget=H.fromElement==H.target?H.toElement:H.fromElement}if(H.pageX==null&&H.clientX!=null){var I=document.documentElement,E=document.body;H.pageX=H.clientX+(I&&I.scrollLeft||E&&E.scrollLeft||0)-(I.clientLeft||0);H.pageY=H.clientY+(I&&I.scrollTop||E&&E.scrollTop||0)-(I.clientTop||0)}if(!H.which&&((H.charCode||H.charCode===0)?H.charCode:H.keyCode)){H.which=H.charCode||H.keyCode}if(!H.metaKey&&H.ctrlKey){H.metaKey=H.ctrlKey}if(!H.which&&H.button){H.which=(H.button&1?1:(H.button&2?3:(H.button&4?2:0)))}return H},proxy:function(F,E){E=E||function(){return F.apply(this,arguments)};E.guid=F.guid=F.guid||E.guid||this.guid++;return E},special:{ready:{setup:B,teardown:function(){}}},specialAll:{live:{setup:function(E,F){o.event.add(this,F[0],c)},teardown:function(G){if(G.length){var E=0,F=RegExp("(^|\\.)"+G[0]+"(\\.|$)");o.each((o.data(this,"events").live||{}),function(){if(F.test(this.type)){E++}});if(E<1){o.event.remove(this,G[0],c)}}}}}};o.Event=function(E){if(!this.preventDefault){return new o.Event(E)}if(E&&E.type){this.originalEvent=E;this.type=E.type}else{this.type=E}this.timeStamp=e();this[h]=true};function k(){return false}function u(){return true}o.Event.prototype={preventDefault:function(){this.isDefaultPrevented=u;var E=this.originalEvent;if(!E){return}if(E.preventDefault){E.preventDefault()}E.returnValue=false},stopPropagation:function(){this.isPropagationStopped=u;var E=this.originalEvent;if(!E){return}if(E.stopPropagation){E.stopPropagation()}E.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};var a=function(F){var E=F.relatedTarget;while(E&&E!=this){try{E=E.parentNode}catch(G){E=this}}if(E!=this){F.type=F.data;o.event.handle.apply(this,arguments)}};o.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(F,E){o.event.special[E]={setup:function(){o.event.add(this,F,a,E)},teardown:function(){o.event.remove(this,F,a)}}});o.fn.extend({bind:function(F,G,E){return F=="unload"?this.one(F,G,E):this.each(function(){o.event.add(this,F,E||G,E&&G)})},one:function(G,H,F){var E=o.event.proxy(F||H,function(I){o(this).unbind(I,E);return(F||H).apply(this,arguments)});return this.each(function(){o.event.add(this,G,E,F&&H)})},unbind:function(F,E){return this.each(function(){o.event.remove(this,F,E)})},trigger:function(E,F){return this.each(function(){o.event.trigger(E,F,this)})},triggerHandler:function(E,G){if(this[0]){var F=o.Event(E);F.preventDefault();F.stopPropagation();o.event.trigger(F,G,this[0]);return F.result}},toggle:function(G){var E=arguments,F=1;while(F<E.length){o.event.proxy(G,E[F++])}return this.click(o.event.proxy(G,function(H){this.lastToggle=(this.lastToggle||0)%F;H.preventDefault();return E[this.lastToggle++].apply(this,arguments)||false}))},hover:function(E,F){return this.mouseenter(E).mouseleave(F)},ready:function(E){B();if(o.isReady){E.call(document,o)}else{o.readyList.push(E)}return this},live:function(G,F){var E=o.event.proxy(F);E.guid+=this.selector+G;o(document).bind(i(G,this.selector),this.selector,E);return this},die:function(F,E){o(document).unbind(i(F,this.selector),E?{guid:E.guid+this.selector+F}:null);return this}});function c(H){var E=RegExp("(^|\\.)"+H.type+"(\\.|$)"),G=true,F=[];o.each(o.data(this,"events").live||[],function(I,J){if(E.test(J.type)){var K=o(H.target).closest(J.data)[0];if(K){F.push({elem:K,fn:J})}}});o.each(F,function(){if(this.fn.call(this.elem,H,this.fn.data)===false){G=false}});return G}function i(F,E){return["live",F,E.replace(/\./g,"`").replace(/ /g,"|")].join(".")}o.extend({isReady:false,readyList:[],ready:function(){if(!o.isReady){o.isReady=true;if(o.readyList){o.each(o.readyList,function(){this.call(document,o)});o.readyList=null}o(document).triggerHandler("ready")}}});var x=false;function B(){if(x){return}x=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);o.ready()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);o.ready()}});if(document.documentElement.doScroll&&typeof l.frameElement==="undefined"){(function(){if(o.isReady){return}try{document.documentElement.doScroll("left")}catch(E){setTimeout(arguments.callee,0);return}o.ready()})()}}}o.event.add(l,"load",o.ready)}o.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error").split(","),function(F,E){o.fn[E]=function(G){return G?this.bind(E,G):this.trigger(E)}});o(l).bind("unload",function(){for(var E in o.cache){if(E!=1&&o.cache[E].handle){o.event.remove(o.cache[E].handle.elem)}}});(function(){o.support={};var F=document.documentElement,G=document.createElement("script"),K=document.createElement("div"),J="script"+(new Date).getTime();K.style.display="none";K.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var H=K.getElementsByTagName("*"),E=K.getElementsByTagName("a")[0];if(!H||!H.length||!E){return}o.support={leadingWhitespace:K.firstChild.nodeType==3,tbody:!K.getElementsByTagName("tbody").length,objectAll:!!K.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!K.getElementsByTagName("link").length,style:/red/.test(E.getAttribute("style")),hrefNormalized:E.getAttribute("href")==="/a",opacity:E.style.opacity==="0.5",cssFloat:!!E.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};G.type="text/javascript";try{G.appendChild(document.createTextNode("window."+J+"=1;"))}catch(I){}F.insertBefore(G,F.firstChild);if(l[J]){o.support.scriptEval=true;delete l[J]}F.removeChild(G);if(K.attachEvent&&K.fireEvent){K.attachEvent("onclick",function(){o.support.noCloneEvent=false;K.detachEvent("onclick",arguments.callee)});K.cloneNode(true).fireEvent("onclick")}o(function(){var L=document.createElement("div");L.style.width="1px";L.style.paddingLeft="1px";document.body.appendChild(L);o.boxModel=o.support.boxModel=L.offsetWidth===2;document.body.removeChild(L)})})();var w=o.support.cssFloat?"cssFloat":"styleFloat";o.props={"for":"htmlFor","class":"className","float":w,cssFloat:w,styleFloat:w,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};o.fn.extend({_load:o.fn.load,load:function(G,J,K){if(typeof G!=="string"){return this._load(G)}var I=G.indexOf(" ");if(I>=0){var E=G.slice(I,G.length);G=G.slice(0,I)}var H="GET";if(J){if(o.isFunction(J)){K=J;J=null}else{if(typeof J==="object"){J=o.param(J);H="POST"}}}var F=this;o.ajax({url:G,type:H,dataType:"html",data:J,complete:function(M,L){if(L=="success"||L=="notmodified"){F.html(E?o("<div/>").append(M.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(E):M.responseText)}if(K){F.each(K,[M.responseText,L,M])}}});return this},serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?o.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(E,F){var G=o(this).val();return G==null?null:o.isArray(G)?o.map(G,function(I,H){return{name:F.name,value:I}}):{name:F.name,value:G}}).get()}});o.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(E,F){o.fn[F]=function(G){return this.bind(F,G)}});var r=e();o.extend({get:function(E,G,H,F){if(o.isFunction(G)){H=G;G=null}return o.ajax({type:"GET",url:E,data:G,success:H,dataType:F})},getScript:function(E,F){return o.get(E,null,F,"script")},getJSON:function(E,F,G){return o.get(E,F,G,"json")},post:function(E,G,H,F){if(o.isFunction(G)){H=G;G={}}return o.ajax({type:"POST",url:E,data:G,success:H,dataType:F})},ajaxSetup:function(E){o.extend(o.ajaxSettings,E)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return l.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(M){M=o.extend(true,M,o.extend(true,{},o.ajaxSettings,M));var W,F=/=\?(&|$)/g,R,V,G=M.type.toUpperCase();if(M.data&&M.processData&&typeof M.data!=="string"){M.data=o.param(M.data)}if(M.dataType=="jsonp"){if(G=="GET"){if(!M.url.match(F)){M.url+=(M.url.match(/\?/)?"&":"?")+(M.jsonp||"callback")+"=?"}}else{if(!M.data||!M.data.match(F)){M.data=(M.data?M.data+"&":"")+(M.jsonp||"callback")+"=?"}}M.dataType="json"}if(M.dataType=="json"&&(M.data&&M.data.match(F)||M.url.match(F))){W="jsonp"+r++;if(M.data){M.data=(M.data+"").replace(F,"="+W+"$1")}M.url=M.url.replace(F,"="+W+"$1");M.dataType="script";l[W]=function(X){V=X;I();L();l[W]=g;try{delete l[W]}catch(Y){}if(H){H.removeChild(T)}}}if(M.dataType=="script"&&M.cache==null){M.cache=false}if(M.cache===false&&G=="GET"){var E=e();var U=M.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+E+"$2");M.url=U+((U==M.url)?(M.url.match(/\?/)?"&":"?")+"_="+E:"")}if(M.data&&G=="GET"){M.url+=(M.url.match(/\?/)?"&":"?")+M.data;M.data=null}if(M.global&&!o.active++){o.event.trigger("ajaxStart")}var Q=/^(\w+:)?\/\/([^\/?#]+)/.exec(M.url);if(M.dataType=="script"&&G=="GET"&&Q&&(Q[1]&&Q[1]!=location.protocol||Q[2]!=location.host)){var H=document.getElementsByTagName("head")[0];var T=document.createElement("script");T.src=M.url;if(M.scriptCharset){T.charset=M.scriptCharset}if(!W){var O=false;T.onload=T.onreadystatechange=function(){if(!O&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){O=true;I();L();H.removeChild(T)}}}H.appendChild(T);return g}var K=false;var J=M.xhr();if(M.username){J.open(G,M.url,M.async,M.username,M.password)}else{J.open(G,M.url,M.async)}try{if(M.data){J.setRequestHeader("Content-Type",M.contentType)}if(M.ifModified){J.setRequestHeader("If-Modified-Since",o.lastModified[M.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}J.setRequestHeader("X-Requested-With","XMLHttpRequest");J.setRequestHeader("Accept",M.dataType&&M.accepts[M.dataType]?M.accepts[M.dataType]+", */*":M.accepts._default)}catch(S){}if(M.beforeSend&&M.beforeSend(J,M)===false){if(M.global&&!--o.active){o.event.trigger("ajaxStop")}J.abort();return false}if(M.global){o.event.trigger("ajaxSend",[J,M])}var N=function(X){if(J.readyState==0){if(P){clearInterval(P);P=null;if(M.global&&!--o.active){o.event.trigger("ajaxStop")}}}else{if(!K&&J&&(J.readyState==4||X=="timeout")){K=true;if(P){clearInterval(P);P=null}R=X=="timeout"?"timeout":!o.httpSuccess(J)?"error":M.ifModified&&o.httpNotModified(J,M.url)?"notmodified":"success";if(R=="success"){try{V=o.httpData(J,M.dataType,M)}catch(Z){R="parsererror"}}if(R=="success"){var Y;try{Y=J.getResponseHeader("Last-Modified")}catch(Z){}if(M.ifModified&&Y){o.lastModified[M.url]=Y}if(!W){I()}}else{o.handleError(M,J,R)}L();if(X){J.abort()}if(M.async){J=null}}}};if(M.async){var P=setInterval(N,13);if(M.timeout>0){setTimeout(function(){if(J&&!K){N("timeout")}},M.timeout)}}try{J.send(M.data)}catch(S){o.handleError(M,J,null,S)}if(!M.async){N()}function I(){if(M.success){M.success(V,R)}if(M.global){o.event.trigger("ajaxSuccess",[J,M])}}function L(){if(M.complete){M.complete(J,R)}if(M.global){o.event.trigger("ajaxComplete",[J,M])}if(M.global&&!--o.active){o.event.trigger("ajaxStop")}}return J},handleError:function(F,H,E,G){if(F.error){F.error(H,E,G)}if(F.global){o.event.trigger("ajaxError",[H,F,G])}},active:0,httpSuccess:function(F){try{return !F.status&&location.protocol=="file:"||(F.status>=200&&F.status<300)||F.status==304||F.status==1223}catch(E){}return false},httpNotModified:function(G,E){try{var H=G.getResponseHeader("Last-Modified");return G.status==304||H==o.lastModified[E]}catch(F){}return false},httpData:function(J,H,G){var F=J.getResponseHeader("content-type"),E=H=="xml"||!H&&F&&F.indexOf("xml")>=0,I=E?J.responseXML:J.responseText;if(E&&I.documentElement.tagName=="parsererror"){throw"parsererror"}if(G&&G.dataFilter){I=G.dataFilter(I,H)}if(typeof I==="string"){if(H=="script"){o.globalEval(I)}if(H=="json"){I=l["eval"]("("+I+")")}}return I},param:function(E){var G=[];function H(I,J){G[G.length]=encodeURIComponent(I)+"="+encodeURIComponent(J)}if(o.isArray(E)||E.jquery){o.each(E,function(){H(this.name,this.value)})}else{for(var F in E){if(o.isArray(E[F])){o.each(E[F],function(){H(F,this)})}else{H(F,o.isFunction(E[F])?E[F]():E[F])}}}return G.join("&").replace(/%20/g,"+")}});var m={},n,d=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function t(F,E){var G={};o.each(d.concat.apply([],d.slice(0,E)),function(){G[this]=F});return G}o.fn.extend({show:function(J,L){if(J){return this.animate(t("show",3),J,L)}else{for(var H=0,F=this.length;H<F;H++){var E=o.data(this[H],"olddisplay");this[H].style.display=E||"";if(o.css(this[H],"display")==="none"){var G=this[H].tagName,K;if(m[G]){K=m[G]}else{var I=o("<"+G+" />").appendTo("body");K=I.css("display");if(K==="none"){K="block"}I.remove();m[G]=K}this[H].style.display=o.data(this[H],"olddisplay",K)}}return this}},hide:function(H,I){if(H){return this.animate(t("hide",3),H,I)}else{for(var G=0,F=this.length;G<F;G++){var E=o.data(this[G],"olddisplay");if(!E&&E!=="none"){o.data(this[G],"olddisplay",o.css(this[G],"display"))}this[G].style.display="none"}return this}},_toggle:o.fn.toggle,toggle:function(G,F){var E=typeof G==="boolean";return o.isFunction(G)&&o.isFunction(F)?this._toggle.apply(this,arguments):G==null||E?this.each(function(){var H=E?G:o(this).is(":hidden");o(this)[H?"show":"hide"]()}):this.animate(t("toggle",3),G,F)},fadeTo:function(E,G,F){return this.animate({opacity:G},E,F)},animate:function(I,F,H,G){var E=o.speed(F,H,G);return this[E.queue===false?"each":"queue"](function(){var K=o.extend({},E),M,L=this.nodeType==1&&o(this).is(":hidden"),J=this;for(M in I){if(I[M]=="hide"&&L||I[M]=="show"&&!L){return K.complete.call(this)}if((M=="height"||M=="width")&&this.style){K.display=o.css(this,"display");K.overflow=this.style.overflow}}if(K.overflow!=null){this.style.overflow="hidden"}K.curAnim=o.extend({},I);o.each(I,function(O,S){var R=new o.fx(J,K,O);if(/toggle|show|hide/.test(S)){R[S=="toggle"?L?"show":"hide":S](I)}else{var Q=S.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),T=R.cur(true)||0;if(Q){var N=parseFloat(Q[2]),P=Q[3]||"px";if(P!="px"){J.style[O]=(N||1)+P;T=((N||1)/R.cur(true))*T;J.style[O]=T+P}if(Q[1]){N=((Q[1]=="-="?-1:1)*N)+T}R.custom(T,N,P)}else{R.custom(T,S,"")}}});return true})},stop:function(F,E){var G=o.timers;if(F){this.queue([])}this.each(function(){for(var H=G.length-1;H>=0;H--){if(G[H].elem==this){if(E){G[H](true)}G.splice(H,1)}}});if(!E){this.dequeue()}return this}});o.each({slideDown:t("show",1),slideUp:t("hide",1),slideToggle:t("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(E,F){o.fn[E]=function(G,H){return this.animate(F,G,H)}});o.extend({speed:function(G,H,F){var E=typeof G==="object"?G:{complete:F||!F&&H||o.isFunction(G)&&G,duration:G,easing:F&&H||H&&!o.isFunction(H)&&H};E.duration=o.fx.off?0:typeof E.duration==="number"?E.duration:o.fx.speeds[E.duration]||o.fx.speeds._default;E.old=E.complete;E.complete=function(){if(E.queue!==false){o(this).dequeue()}if(o.isFunction(E.old)){E.old.call(this)}};return E},easing:{linear:function(G,H,E,F){return E+F*G},swing:function(G,H,E,F){return((-Math.cos(G*Math.PI)/2)+0.5)*F+E}},timers:[],fx:function(F,E,G){this.options=E;this.elem=F;this.prop=G;if(!E.orig){E.orig={}}}});o.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(o.fx.step[this.prop]||o.fx.step._default)(this);if((this.prop=="height"||this.prop=="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(F){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var E=parseFloat(o.css(this.elem,this.prop,F));return E&&E>-10000?E:parseFloat(o.curCSS(this.elem,this.prop))||0},custom:function(I,H,G){this.startTime=e();this.start=I;this.end=H;this.unit=G||this.unit||"px";this.now=this.start;this.pos=this.state=0;var E=this;function F(J){return E.step(J)}F.elem=this.elem;if(F()&&o.timers.push(F)==1){n=setInterval(function(){var K=o.timers;for(var J=0;J<K.length;J++){if(!K[J]()){K.splice(J--,1)}}if(!K.length){clearInterval(n)}},13)}},show:function(){this.options.orig[this.prop]=o.attr(this.elem.style,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());o(this.elem).show()},hide:function(){this.options.orig[this.prop]=o.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(H){var G=e();if(H||G>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var E=true;for(var F in this.options.curAnim){if(this.options.curAnim[F]!==true){E=false}}if(E){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(o.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){o(this.elem).hide()}if(this.options.hide||this.options.show){for(var I in this.options.curAnim){o.attr(this.elem.style,I,this.options.orig[I])}}this.options.complete.call(this.elem)}return false}else{var J=G-this.startTime;this.state=J/this.options.duration;this.pos=o.easing[this.options.easing||(o.easing.swing?"swing":"linear")](this.state,J,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};o.extend(o.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(E){o.attr(E.elem.style,"opacity",E.now)},_default:function(E){if(E.elem.style&&E.elem.style[E.prop]!=null){E.elem.style[E.prop]=E.now+E.unit}else{E.elem[E.prop]=E.now}}}});if(document.documentElement.getBoundingClientRect){o.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return o.offset.bodyOffset(this[0])}var G=this[0].getBoundingClientRect(),J=this[0].ownerDocument,F=J.body,E=J.documentElement,L=E.clientTop||F.clientTop||0,K=E.clientLeft||F.clientLeft||0,I=G.top+(self.pageYOffset||o.boxModel&&E.scrollTop||F.scrollTop)-L,H=G.left+(self.pageXOffset||o.boxModel&&E.scrollLeft||F.scrollLeft)-K;return{top:I,left:H}}}else{o.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return o.offset.bodyOffset(this[0])}o.offset.initialized||o.offset.initialize();var J=this[0],G=J.offsetParent,F=J,O=J.ownerDocument,M,H=O.documentElement,K=O.body,L=O.defaultView,E=L.getComputedStyle(J,null),N=J.offsetTop,I=J.offsetLeft;while((J=J.parentNode)&&J!==K&&J!==H){M=L.getComputedStyle(J,null);N-=J.scrollTop,I-=J.scrollLeft;if(J===G){N+=J.offsetTop,I+=J.offsetLeft;if(o.offset.doesNotAddBorder&&!(o.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(J.tagName))){N+=parseInt(M.borderTopWidth,10)||0,I+=parseInt(M.borderLeftWidth,10)||0}F=G,G=J.offsetParent}if(o.offset.subtractsBorderForOverflowNotVisible&&M.overflow!=="visible"){N+=parseInt(M.borderTopWidth,10)||0,I+=parseInt(M.borderLeftWidth,10)||0}E=M}if(E.position==="relative"||E.position==="static"){N+=K.offsetTop,I+=K.offsetLeft}if(E.position==="fixed"){N+=Math.max(H.scrollTop,K.scrollTop),I+=Math.max(H.scrollLeft,K.scrollLeft)}return{top:N,left:I}}}o.offset={initialize:function(){if(this.initialized){return}var L=document.body,F=document.createElement("div"),H,G,N,I,M,E,J=L.style.marginTop,K='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';M={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(E in M){F.style[E]=M[E]}F.innerHTML=K;L.insertBefore(F,L.firstChild);H=F.firstChild,G=H.firstChild,I=H.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(G.offsetTop!==5);this.doesAddBorderForTableAndCells=(I.offsetTop===5);H.style.overflow="hidden",H.style.position="relative";this.subtractsBorderForOverflowNotVisible=(G.offsetTop===-5);L.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=(L.offsetTop===0);L.style.marginTop=J;L.removeChild(F);this.initialized=true},bodyOffset:function(E){o.offset.initialized||o.offset.initialize();var G=E.offsetTop,F=E.offsetLeft;if(o.offset.doesNotIncludeMarginInBodyOffset){G+=parseInt(o.curCSS(E,"marginTop",true),10)||0,F+=parseInt(o.curCSS(E,"marginLeft",true),10)||0}return{top:G,left:F}}};o.fn.extend({position:function(){var I=0,H=0,F;if(this[0]){var G=this.offsetParent(),J=this.offset(),E=/^body|html$/i.test(G[0].tagName)?{top:0,left:0}:G.offset();J.top-=j(this,"marginTop");J.left-=j(this,"marginLeft");E.top+=j(G,"borderTopWidth");E.left+=j(G,"borderLeftWidth");F={top:J.top-E.top,left:J.left-E.left}}return F},offsetParent:function(){var E=this[0].offsetParent||document.body;while(E&&(!/^body|html$/i.test(E.tagName)&&o.css(E,"position")=="static")){E=E.offsetParent}return o(E)}});o.each(["Left","Top"],function(F,E){var G="scroll"+E;o.fn[G]=function(H){if(!this[0]){return null}return H!==g?this.each(function(){this==l||this==document?l.scrollTo(!F?H:o(l).scrollLeft(),F?H:o(l).scrollTop()):this[G]=H}):this[0]==l||this[0]==document?self[F?"pageYOffset":"pageXOffset"]||o.boxModel&&document.documentElement[G]||document.body[G]:this[0][G]}});o.each(["Height","Width"],function(H,F){var E=H?"Left":"Top",G=H?"Right":"Bottom";o.fn["inner"+F]=function(){return this[F.toLowerCase()]()+j(this,"padding"+E)+j(this,"padding"+G)};o.fn["outer"+F]=function(J){return this["inner"+F]()+j(this,"border"+E+"Width")+j(this,"border"+G+"Width")+(J?j(this,"margin"+E)+j(this,"margin"+G):0)};var I=F.toLowerCase();o.fn[I]=function(J){return this[0]==l?document.compatMode=="CSS1Compat"&&document.documentElement["client"+F]||document.body["client"+F]:this[0]==document?Math.max(document.documentElement["client"+F],document.body["scroll"+F],document.documentElement["scroll"+F],document.body["offset"+F],document.documentElement["offset"+F]):J===g?(this.length?o.css(this[0],I):null):this.css(I,typeof J==="string"?J:J+"px")}})})();if(!window.sockso){sockso={util:{}}}function MusicItem(d,a,c){this.id=d;this.name=a;this.playlistId=c;var b=d.substring(0,2);this.getTypeName=function(){switch(b){case"tr":return"track";case"ar":return"artist";case"al":return"album";case"pl":return"playlist"}}}sockso.MusicItem=MusicItem;sockso.util.getActionNode=function(a,b,c){return $("<a></a>").attr("href",b).attr("title",c).append($("<img />").attr("src",Properties.getUrl("/<skin>/images/"+a+".png"))).append("<span>&nbsp;</span>")};sockso.util.getMusicElement=function getMusicElement(i,a){var f=i.getTypeName();var j=(i.playlistId!=null);var b=i.name.replace(/'/,"\\'");var e=j?sockso.util.getActionNode("remove","javascript:playlist.remove("+i.playlistId+");","Remove"):null;var h=(a==true)?sockso.util.getActionNode("add","javascript:playlist.add(new sockso.MusicItem('"+i.id+"','"+b+"'));","Add to playlist"):null;var c=sockso.util.getActionNode("play","javascript:player.play('"+i.id+"')","Play '"+b+"'");var g=(f=="track")?$("<span>"+i.name+"</span>"):$("<a></a>").attr("href",Properties.getUrl("/browse/"+f+"/"+i.id.substring(2))).append(i.name);var d=$("<li></li>").attr("id",j?"playlist-item-"+i.playlistId:"").addClass(f).append(c).append(h).append(e);if(Properties.get("www.disableDownloads")!="yes"){sockso.util.getActionNode("download",Properties.getUrl("/download/"+i.id),"Download '"+b+"'").addClass("noajax").appendTo(d)}d.append(g);return d};Function.prototype.bind=function(b){var a=this;return function(){b.originalScope=this;return a.apply(b,arguments)}};String.prototype.startsWith=function(a){return this.indexOf(a)===0};String.prototype.endsWith=function(a){return this.match(a+"$")==a};jQuery.fn.corner=function(f){function k(n){var n=parseInt(n).toString(16);return(n.length<2)?"0"+n:n}function d(o){for(;o&&o.nodeName.toLowerCase()!="html";o=o.parentNode){var n=jQuery.css(o,"backgroundColor");if(n.indexOf("rgb")>=0){rgb=n.match(/\d+/g);return"#"+k(rgb[0])+k(rgb[1])+k(rgb[2])}if(n&&n!="transparent"){return n}}return"#ffffff"}function m(n){switch(h){case"round":return Math.round(e*(1-Math.cos(Math.asin(n/e))));case"cool":return Math.round(e*(1+Math.cos(Math.asin(n/e))));case"sharp":return Math.round(e*(1-Math.cos(Math.acos(n/e))));case"bite":return Math.round(e*(Math.cos(Math.asin((e-n-1)/e))));case"slide":return Math.round(e*(Math.atan2(n,e/n)));case"jut":return Math.round(e*(Math.atan2(e,(e-n-1))));case"curl":return Math.round(e*(Math.atan(n)));case"tear":return Math.round(e*(Math.cos(n)));case"wicked":return Math.round(e*(Math.tan(n)));case"long":return Math.round(e*(Math.sqrt(n)));case"sculpt":return Math.round(e*(Math.log((e-n-1),e)));case"dog":return(n&1)?(n+1):e;case"dog2":return(n&2)?(n+1):e;case"dog3":return(n&3)?(n+1):e;case"fray":return(n%2)*e;case"notch":return e;case"bevel":return n+1}}f=(f||"").toLowerCase();var b=/keep/.test(f);var g=((f.match(/cc:(#[0-9a-f]+)/)||[])[1]);var j=((f.match(/sc:(#[0-9a-f]+)/)||[])[1]);var e=parseInt((f.match(/(\d+)px/)||[])[1])||10;var l=/round|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dog/;var h=((f.match(l)||["round"])[0]);var i={T:0,B:1};var a={TL:/top|tl/.test(f),TR:/top|tr/.test(f),BL:/bottom|bl/.test(f),BR:/bottom|br/.test(f)};if(!a.TL&&!a.TR&&!a.BL&&!a.BR){a={TL:1,TR:1,BL:1,BR:1}}var c=document.createElement("div");c.style.overflow="hidden";c.style.height="1px";c.style.backgroundColor=j||"transparent";c.style.borderStyle="solid";return this.each(function(r){var o={T:parseInt(jQuery.css(this,"paddingTop"))||0,R:parseInt(jQuery.css(this,"paddingRight"))||0,B:parseInt(jQuery.css(this,"paddingBottom"))||0,L:parseInt(jQuery.css(this,"paddingLeft"))||0};if(jQuery.browser.msie){this.style.zoom=1}if(!b){this.style.border="none"}c.style.borderColor=g||d(this.parentNode);var t=jQuery.curCSS(this,"height");for(var p in i){var u=i[p];c.style.borderStyle="none "+(a[p+"R"]?"solid":"none")+" none "+(a[p+"L"]?"solid":"none");var v=document.createElement("div");var n=v.style;u?this.appendChild(v):this.insertBefore(v,this.firstChild);if(u&&t!="auto"){if(jQuery.css(this,"position")=="static"){this.style.position="relative"}n.position="absolute";n.bottom=n.left=n.padding=n.margin="0";if(jQuery.browser.msie){n.setExpression("width","this.parentNode.offsetWidth")}else{n.width="100%"}}else{n.margin=!u?"-"+o.T+"px -"+o.R+"px "+(o.T-e)+"px -"+o.L+"px":(o.B-e)+"px -"+o.R+"px -"+o.B+"px -"+o.L+"px"}for(var q=0;q<e;q++){var x=Math.max(0,m(q));var s=c.cloneNode(false);s.style.borderWidth="0 "+(a[p+"R"]?x:0)+"px 0 "+(a[p+"L"]?x:0)+"px";u?v.appendChild(s):v.insertBefore(s,v.firstChild)}}})};(function(){if(window.google&&google.gears){return}var a=null;if(typeof GearsFactory!="undefined"){a=new GearsFactory()}else{try{a=new ActiveXObject("Gears.Factory");if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this)}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");a.style.display="none";a.width=0;a.height=0;a.type="application/x-googlegears";document.documentElement.appendChild(a)}}}if(!a){return}if(!window.google){google={}}if(!google.gears){google.gears={factory:a}}})();Persist=(function(){var i="0.2.0",d,b,g,h,e,f;f=(function(){var q="Thu, 01-Jan-1970 00:00:01 GMT",k=1000*60*60*24,r=["expires","path","domain"],m=escape,l=unescape,p=document,n;var s=function(){var t=new Date();t.setTime(t.getTime());return t};var j=function(x,A){var w,v,z,y=[],u=(arguments.length>2)?arguments[2]:{};y.push(m(x)+"="+m(A));for(var t=0;t<r.length;t++){v=r[t];z=u[v];if(z){y.push(v+"="+z)}}if(u.secure){y.push("secure")}return y.join("; ")};var o=function(){var u="__EC_TEST__",t=new Date();t=t.toGMTString();this.set(u,t);this.enabled=(this.remove(u)==t);return this.enabled};n={set:function(B,x){var u=(arguments.length>2)?arguments[2]:{},v=s(),A,z={};if(u.expires){var w=u.expires*k;z.expires=new Date(v.getTime()+w);z.expires=z.expires.toGMTString()}var C=["path","domain","secure"];for(var y=0;y<C.length;y++){if(u[C[y]]){z[C[y]]=u[C[y]]}}var t=j(B,x,z);p.cookie=t;return x},has:function(u){u=m(u);var x=p.cookie,w=x.indexOf(u+"="),t=w+u.length+1,v=x.substring(0,u.length);return((!w&&u!=v)||w<0)?false:true},get:function(v){v=m(v);var y=p.cookie,x=y.indexOf(v+"="),t=x+v.length+1,w=y.substring(0,v.length),u;if((!x&&v!=w)||x<0){return null}u=y.indexOf(";",t);if(u<0){u=y.length}return l(y.substring(t,u))},remove:function(t){var v=n.get(t),u={expires:q};p.cookie=j(t,"",u);return v},keys:function(){var y=p.cookie,x=y.split("; "),u,w,v=[];for(var t=0;t<x.length;t++){w=x[t].split("=");v.push(l(w[0]))}return v},all:function(){var y=p.cookie,x=y.split("; "),u,w,v=[];for(var t=0;t<x.length;t++){w=x[t].split("=");v.push([l(w[0]),l(w[1])])}return v},version:"0.2.1",enabled:false};n.enabled=o.call(n);return n}());var c=(function(){if(Array.prototype.indexOf){return function(j,k){return Array.prototype.indexOf.call(j,k)}}else{return function(o,p){var n,m;for(var k=0,j=o.length;k<j;k++){if(o[k]==p){return k}}return -1}}})();e=function(){};g=function(j){return"PS"+j.replace(/_/g,"__").replace(/ /g,"_s")};var a={search_order:["localstorage","globalstorage","gears","whatwg_db","cookie","ie","flash"],name_re:/^[a-z][a-z0-9_ \-]+$/i,methods:["init","get","set","remove","load","save"],sql:{version:"1",create:"CREATE TABLE IF NOT EXISTS persist_data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",get:"SELECT v FROM persist_data WHERE k = ?",set:"INSERT INTO persist_data(k, v) VALUES (?, ?)",remove:"DELETE FROM persist_data WHERE k = ?"},flash:{div_id:"_persist_flash_wrap",id:"_persist_flash",path:"persist.swf",size:{w:1,h:1},args:{autostart:true}}};b={gears:{size:-1,test:function(){return(window.google&&window.google.gears)?true:false},methods:{transaction:function(k){var j=this.db;j.execute("BEGIN").close();k.call(this,j);j.execute("COMMIT").close()},init:function(){var j;j=this.db=google.gears.factory.create("beta.database");j.open(g(this.name));j.execute(a.sql.create).close()},get:function(j,l,k){var m,n=a.sql.get;if(!l){return}this.transaction(function(p){var o,q;m=p.execute(n,[j]);o=m.isValidRow();q=o?m.field(0):null;m.close();l.call(k||this,o,q)})},set:function(k,p,m,l){var j=a.sql.remove,o=a.sql.set,n;this.transaction(function(q){q.execute(j,[k]).close();q.execute(o,[k,p]).close();if(m){m.call(l||this,true,p)}})},remove:function(k,m,l){var o=a.sql.get,q=a.sql.remove,n,p=null,j=false;this.transaction(function(r){if(m){n=r.execute(o,[k]);j=n.isValidRow();p=j?n.field(0):null;n.close()}if(!m||j){r.execute(q,[k]).close()}if(m){m.call(l||this,j,p)}})}}},whatwg_db:{size:200*1024,test:function(){var j="PersistJS Test",k="Persistent database test.";if(!window.openDatabase){return false}if(!window.openDatabase(j,a.sql.version,k,b.whatwg_db.size)){return false}return true},methods:{transaction:function(j){if(!this.db_created){this.db.transaction(function(k){k.executeSql(a.sql.create,[],function(){this.db_created=true})},e)}this.db.transaction(j)},init:function(){this.db=openDatabase(this.name,a.sql.version,this.o.about||("Persistent storage for "+this.name),this.o.size||(b.whatwg_db.size))},get:function(j,l,k){var m=a.sql.get;if(!l){return}k=k||this;this.transaction(function(n){n.executeSql(m,[j],function(o,p){if(p.rows.length>0){l.call(k,true,p.rows.item(0).v)}else{l.call(k,false,null)}})})},set:function(k,o,m,l){var j=a.sql.remove,n=a.sql.set;this.transaction(function(p){p.executeSql(j,[k],function(){p.executeSql(n,[k,o],function(q,s){if(m){m.call(l||this,true,o)}})})});return o},remove:function(j,l,k){var m=a.sql.get;sql=a.sql.remove;this.transaction(function(n){if(l){n.executeSql(m,[j],function(o,p){if(p.rows.length>0){var q=p.rows.item(0).v;o.executeSql(sql,[j],function(s,u){l.call(k||this,true,q)})}else{l.call(k||this,false,null)}})}else{n.executeSql(sql,[j])}})}}},globalstorage:{size:5*1024*1024,test:function(){if(window.globalStorage){var j="127.0.0.1";if(this.o&&this.o.domain){j=this.o.domain}try{var l=globalStorage[j];return true}catch(k){if(window.console&&window.console.warn){console.warn("globalStorage exists, but couldn't use it because your browser is running on domain:",j)}return false}}else{return false}},methods:{key:function(j){return g(this.name)+g(j)},init:function(){this.store=globalStorage[this.o.domain]},get:function(j,l,k){j=this.key(j);if(l){l.call(k||this,true,this.store.getItem(j))}},set:function(j,m,l,k){j=this.key(j);this.store.setItem(j,m);if(l){l.call(k||this,true,m)}},remove:function(j,l,k){var m;j=this.key(j);m=this.store.getItem[j];this.store.removeItem(j);if(l){l.call(k||this,(m!==null),m)}}}},localstorage:{size:-1,test:function(){return window.localStorage?true:false},methods:{key:function(j){return g(this.name)+g(j)},init:function(){this.store=localStorage},get:function(j,l,k){j=this.key(j);if(l){l.call(k||this,true,this.store.getItem(j))}},set:function(j,m,l,k){j=this.key(j);this.store.setItem(j,m);if(l){l.call(k||this,true,m)}},remove:function(j,l,k){var m;j=this.key(j);m=this.getItem(j);this.store.removeItem(j);if(l){l.call(k||this,(m!==null),m)}}}},ie:{prefix:"_persist_data-",size:64*1024,test:function(){return window.ActiveXObject?true:false},make_userdata:function(k){var j=document.createElement("div");j.id=k;j.style.display="none";j.addBehavior("#default#userdata");document.body.appendChild(j);return j},methods:{init:function(){var j=b.ie.prefix+g(this.name);this.el=b.ie.make_userdata(j);if(this.o.defer){this.load()}},get:function(j,l,k){var m;j=g(j);if(!this.o.defer){this.load()}m=this.el.getAttribute(j);if(l){l.call(k||this,m?true:false,m)}},set:function(j,m,l,k){j=g(j);this.el.setAttribute(j,m);if(!this.o.defer){this.save()}if(l){l.call(k||this,true,m)}},remove:function(j,l,k){var m;j=g(j);if(!this.o.defer){this.load()}m=this.el.getAttribute(j);this.el.removeAttribute(j);if(!this.o.defer){this.save()}if(l){l.call(k||this,m?true:false,m)}},load:function(){this.el.load(g(this.name))},save:function(){this.el.save(g(this.name))}}},cookie:{delim:":",size:4000,test:function(){return d.Cookie.enabled?true:false},methods:{key:function(j){return this.name+b.cookie.delim+j},get:function(j,l,k){var m;j=this.key(j);m=f.get(j);if(l){l.call(k||this,m!==null,m)}},set:function(j,m,l,k){j=this.key(j);f.set(j,m,this.o);if(l){l.call(k||this,true,m)}},remove:function(j,m,l,k){j=this.key(j);m=f.remove(j);if(l){l.call(k||this,m!==null,m)}}}},flash:{test:function(){if(!deconcept||!deconcept.SWFObjectUtil){return false}var j=deconcept.SWFObjectUtil.getPlayerVersion().major;return(j>=8)?true:false},methods:{init:function(){if(!b.flash.el){var m,k,l,j=a.flash;l=document.createElement("div");l.id=j.div_id;document.body.appendChild(l);m=new deconcept.SWFObject(this.o.swf_path||j.path,j.id,j.size.w,j.size.h,"8");for(k in j.args){if(j.args[k]!="function"){m.addVariable(k,j.args[k])}}m.write(l);b.flash.el=document.getElementById(j.id)}this.el=b.flash.el},get:function(j,l,k){var m;j=g(j);m=this.el.get(this.name,j);if(l){l.call(k||this,m!==null,m)}},set:function(k,n,m,l){var j;k=g(k);j=this.el.set(this.name,k,n);if(m){m.call(l||this,true,n)}},remove:function(j,l,k){var m;j=g(j);m=this.el.remove(this.name,j);if(l){l.call(k||this,true,m)}}}}};h=function(){var n,j,p,r,s=a.methods,t=a.search_order;for(var q=0,o=s.length;q<o;q++){d.Store.prototype[s[q]]=e}d.type=null;d.size=-1;for(var m=0,k=t.length;!d.type&&m<k;m++){p=b[t[m]];if(p.test()){d.type=t[m];d.size=p.size;for(r in p.methods){d.Store.prototype[r]=p.methods[r]}}}d._init=true};d={VERSION:i,type:null,size:0,add:function(j){b[j.id]=j;a.search_order=[j.id].concat(a.search_order);h()},remove:function(k){var j=c(a.search_order,k);if(j<0){return}a.search_order.splice(j,1);delete b[k];h()},Cookie:f,Store:function(j,k){if(!a.name_re.exec(j)){throw new Error("Invalid name")}if(!d.type){throw new Error("No suitable storage found")}k=k||{};this.name=j;k.domain=k.domain||location.host||"localhost";k.domain=k.domain.replace(/:\d+$/,"");k.domain=(k.domain=="localhost")?"":k.domain;this.o=k;k.expires=k.expires||365*2;k.path=k.path||"/";this.init()}};h();return d})();sockso.AdminConsole=function(){};sockso.AdminConsole.prototype={output:null,input:null,init:function(){this.ajax=$.ajax;this.initConsoleLinks();this.initConsole()},initConsoleLinks:function(){$(".admin-console-link").click(function(){window.open(Properties.getUrl("/admin/console"),"AdminConsole","width=800,height=600,toolbars=no").focus();return false})},initConsole:function(){var a=this;$("body.admin-console").each(function(){a.initInterface()})},initInterface:function(){this.input=$(".admin-console-input");this.output=$("<pre></pre>").addClass("admin-console-output").prependTo("form");$("form").submit(this.onSubmit.bind(this))},onSubmit:function(){this.ajax({method:"POST",url:Properties.getUrl("/admin/console/send"),data:{command:this.input.val()},success:this.onCommandResult.bind(this)});this.input.val("");return false},onCommandResult:function(a){this.output.append(a+"\n");this.output[0].scrollTop=this.output[0].scrollHeight}};sockso.Ajaxer=function(a){this.page=a.page;this.loadingClass="content-loading"};sockso.Ajaxer.prototype.init=function(){if(this.isSupported()){this.attach();$(window).bind("popstate",this.onPopState.bind(this))}};sockso.Ajaxer.prototype.isSupported=function(){return history&&history.pushState};sockso.Ajaxer.prototype.onPopState=function(a){var b=a.originalEvent.state;if(b){this.loadUrl(b.url)}};sockso.Ajaxer.prototype.attach=function(a){if(this.isSupported()){$("a",a).not("[href^=javascript]").not(".noajax").click(this.onClick.bind(this))}};sockso.Ajaxer.prototype.onClick=function(a){var c=$(this.originalScope);var b=c.attr("href");this.loadUrl(b);history.pushState({url:b},"",b);return false};sockso.Ajaxer.prototype.loadUrl=function(a){$("#content").addClass(this.loadingClass);$.ajax({method:"GET",url:a,success:this.onLoadUrl.bind(this)})};sockso.Ajaxer.prototype.onLoadUrl=function(b){var a=$("#content",b);var c=b.match(new RegExp("<title>(.*?)</title>"))[1];$("#content").replaceWith(a);this.attach(a);this.page.initContent();this.setTitle(c);$("#content").removeClass(this.loadingClass)};sockso.Ajaxer.prototype.setTitle=function(a){document.title=a};sockso.Base=function(a){$.extend(this,a)};$.extend(sockso.Base.prototype,{getUser:function(){return this.user},bind:function(c,b){var a=this;return function(){return a[c].apply(a,b||arguments)}},ajax:$.ajax});function Folder(a,b){this.name=a;this.path=decodeURIComponent(b);this.isFolder=true}function File(a,b){this.name=a;this.path=decodeURIComponent(b).replace(/\\/g,"/");this.isFolder=false}sockso.FolderBrowsing=function(a,b){this.player=a;this.playlist=b};sockso.FolderBrowsing.prototype.playFile=function(a){this.resolvePath(a,this.onPlayPathResolved.bind(this),Locale.getString("www.error.trackNotFound"))};sockso.FolderBrowsing.prototype.onPlayPathResolved=function(responseText){eval("var track = "+responseText);this.player.play("tr"+track.id)};sockso.FolderBrowsing.prototype.decodeEntities=function(str){var entities=new Array("&amp;","&","&lt;","<","&gt;",">","&quot;",'"',"&apos;","'");for(var i=0;i<entities.length;i+=2){str=str.replace(eval("/"+entities[i]+"/g"),entities[i+1])}return str};sockso.FolderBrowsing.prototype.getPath=function(c){var b=$("a",c)[0];var d=c.attr("id");var a=encodeURIComponent(this.decodeEntities(b.firstChild.nodeValue));return d.match(/^collection-\d+$/)?"":this.getPath(c.parent().parent())+"/"+a};sockso.FolderBrowsing.prototype.getCollectionId=function(a){var c=a.attr("id");var b=c!=null?c.match(/^collection-(\d+)$/):null;return(b)?b[1]:this.getCollectionId(a.parent())};sockso.FolderBrowsing.prototype.resolvePath=function(c,b,a){this.ajax({type:"POST",url:Properties.getUrl("/json/resolvePath"),data:{path:c},success:b,error:function(){alert(a)}})};sockso.FolderBrowsing.prototype.addFileToPlaylist=function(a){this.resolvePath(a,this.onAddFileToPlaylist.bind(this),Locale.getString("www.error.trackNotFound"))};sockso.FolderBrowsing.prototype.onAddFileToPlaylist=function(responseText){eval("var track = "+responseText);var item=new MusicItem("tr"+track.id,track.name);this.playlist.add(item)};sockso.FolderBrowsing.prototype.isMediaFile=function(c){var b=new Array("mp3","ogg","wma","flac","aac");var d=c.path.toLowerCase().substring(c.path.lastIndexOf(".")+1);for(var a=0;a<b.length;a++){if(b[a]==d){return true}}return false};sockso.FolderBrowsing.prototype.getFolderItem=function(d){var b=this;var c=$("<a></a>").attr({href:"javascript:;"}).click(this.onToggleClicked.bind(this)).html(d.name);var e=this.getTrackAction("play",function(){var g="path="+d.path;b.player.play("",g);return false},"Play folder");var a=null;if(Properties.get("www.disableDownloads")!="yes"){a=this.getTrackAction("download",function(){b.getTracksForFolder(d,b.downloadFolder.bind(b))},"Download folder")}var f=$("<span></span>").addClass("actions").append(e).append(a);c.append(f);return $("<li></li>").addClass("folder").append(c).append($("<ul></ul>"))};sockso.FolderBrowsing.prototype.getTrackAction=function(a,b,c){return $("<a></a>").attr({href:"javascript:;",title:c}).click(b).append($("<img />").attr("src",Properties.getUrl("<skin>/images/"+a+".png"))).append("<span>&nbsp;</span>")};sockso.FolderBrowsing.prototype.downloadFile=function(path){this.resolvePath(path,function(responseText){eval("var track = "+responseText);self.location.href=Properties.getUrl("/download/tr"+track.id)})};sockso.FolderBrowsing.prototype.getTrackItem=function(c){var b=this;var d=this.getTrackAction("play",function(){b.playFile(c.path)},c.name);var e=this.getTrackAction("add",function(){b.addFileToPlaylist(c.path)},c.name);var a=(Properties.get("www.disableDownloads")!="yes")?this.getTrackAction("download",function(){b.downloadFile(c.path)},"Download: "+c.name):null;return $("<li></li>").addClass("audioFile").append(d).append(e).append(a).append(c.name)};sockso.FolderBrowsing.prototype.getTracksForFolder=function(folder,handler){var url=Properties.getUrl("/json/tracksForPath?path="+encodeURIComponent(folder.path));this.ajax({url:url,success:function(responseText){eval("var tracks = "+responseText);var playUrl="";$.each(tracks,function(i,track){playUrl+="tr"+track+"/"});handler(playUrl)}})};sockso.FolderBrowsing.prototype.downloadFolder=function(a){self.location.href=Properties.getUrl("/download/"+a)};sockso.FolderBrowsing.prototype.getTracks=function(b){var a=this;var c=[];$.each(b,function(e,d){if(!d.isFolder&&a.isMediaFile(d)){c.push(d)}});return c};sockso.FolderBrowsing.prototype.getFolders=function(b){var a=[];$.each(b,function(d,c){if(c.isFolder){a.push(c)}});return a};sockso.FolderBrowsing.prototype.handleLoadFolder=function(folder,responseText){eval("var results = "+responseText);var self=this;var children=$($("ul",folder)[0]);var tracks=this.getTracks(results);var folders=this.getFolders(results);children.empty();if((tracks.length+folders.length)>0){$.each(folders,function(i,subFolder){children.append(self.getFolderItem(subFolder))});$.each(tracks,function(i,track){children.append(self.getTrackItem(track))})}else{children.append($("<li></li>").addClass("empty").html("..."))}folder.addClass("loaded folderOpen")};sockso.FolderBrowsing.prototype.init=function(){var a=this;$("#folders li").each(function(c,f){var e=$(f);var d=$("<a></a>").attr({href:"javascript:;"}).click(a.onToggleClicked.bind(a)).html(e.html().replace(/\\/g,"/"));var b=$("<ul></ul>");e.empty().append(d).append(b)})};sockso.FolderBrowsing.prototype.loadFolder=function(c){var a=this;var e=this.getPath(c);var d=this.getCollectionId(c);var b=Properties.getUrl("/json/folder"+e+"?collectionId="+encodeURIComponent(d));$("ul",c).append($("<img />").attr({src:Properties.getUrl("/<skin>/images/loading.gif")}));setTimeout(function(){a.ajax({url:b,success:function(f){a.handleLoadFolder(c,f)}})},100)};sockso.FolderBrowsing.prototype.onToggleClicked=function(d){var c=$(d.target);var b=c.parent();if(!b.hasClass("loaded")){this.loadFolder(b)}else{var a=$("ul",b)[0];b.toggleClass("folderOpen");$(a).toggleClass("collapsed")}return false};sockso.FolderBrowsing.prototype.ajax=$.ajax;sockso.Hashtable=function(){var a=[];this.get=function(c,b){var d=a[c];return d?d:(b?b:"")};this.set=function(b,c){a[b]=c};this.setData=function(b){a=b}};var html5player=null;var HTML5PLAYER_MODE_NORMAL=1;var HTML5PLAYER_MODE_RANDOM=2;var HTML5PLAYER_VOLUME_STEPS=[0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1];sockso.Html5Player=function(){this.playlist=[];this.mode=false;this.playing=null;this.artworkDiv=null;this.controlsDiv=null;this.playlistDiv=null;this.infoDiv=null;this.audioElt=null;this.volumeIndex=HTML5PLAYER_VOLUME_STEPS.length-1};sockso.Html5Player.prototype=new sockso.Base();$.extend(sockso.Html5Player.prototype,{selectItem:function(a,b){$("li",this.playlistDiv).removeClass("current");$("#item"+b.id).addClass("current");this.artworkDiv.empty().append($("<img></img>").attr({src:Properties.getUrl("/file/cover/al"+b.album.id)}));this.infoDiv.html(b.artist.name+" - "+b.name);document.title=(a+1)+"/"+this.playlist.length+" : "+b.artist.name+" - "+b.name;document.location="#item"+b.id},refresh:function(){var a=this;this.playlistDiv.empty();$.each(this.playlist,function(b,c){$("<li></li>").attr({id:"item"+c.id}).append($("<a></a>").html(c.artist.name+" - "+c.name).attr({href:"javascript:;"}).click(a.bind("playItem",[b]))).appendTo(a.playlistDiv)})},playItem:function(a){var b=this.playlist[a];if(b){this.selectItem(a,b);this.audioElt.attr("src",Properties.getUrl("/stream/"+b.id));this.playing=a}},getCurrentItem:function(){return this.playing},playPrevItem:function(){if(this.isPrevItem()){this.playItem(this.playing-1)}},playNextItem:function(){if(this.isNextItem()){this.playItem(this.playing+1)}else{if(this.mode==HTML5PLAYER_MODE_RANDOM){window.location.reload()}}},isNextItem:function(){return this.playing!=-1&&this.playing<this.playlist.length-1},isPrevItem:function(){return this.playing!=-1&&this.playing>0},stopPlaying:function(){this.audioElt.get(0).pause();$("#playlist li").removeClass("current");this.playing=-1},togglePause:function(){if(this.audioElt.get(0).paused){this.audioElt.get(0).play()}else{this.audioElt.get(0).pause()}},volumeUp:function(){if(this.volumeIndex<HTML5PLAYER_VOLUME_STEPS.length-1){this.audioElt.get(0).volume=HTML5PLAYER_VOLUME_STEPS[++this.volumeIndex]}},volumeDown:function(){if(this.volumeIndex>0){this.audioElt.get(0).volume=HTML5PLAYER_VOLUME_STEPS[--this.volumeIndex]}},addTrack:function(a){this.playlist.push(a)},makeControl:function(b,a){return $("<a></a>").click(b.bind(this)).attr({href:"javascript:;"}).append($("<img></img>").attr({src:Properties.getUrl("/<skin>/images/html5player/"+a+".png")}))},keyHandler:function(b){var c=b.keyCode||b.which;var a=String.fromCharCode(c).toLowerCase();switch(a){case" ":this.togglePause();break;case"d":this.playNextItem();break;case"a":this.playPrevItem();break;case"w":this.volumeUp();break;case"s":this.volumeDown();break}},init:function(b,d,e){var a=this;d=d||"original";e=e||HTML5PLAYER_MODE_NORMAL;this.audioElt=$("<audio></audio>").attr("controls","controls").attr("autoplay","autoplay").text("Your browser doesn't support HTML 5 <audio> element.").error(this.bind("playNextItem")).bind("ended",this.bind("playNextItem"));var c=$("<div></div>").addClass("audio").append(this.audioElt);this.artworkDiv=$("<div></div>").addClass("artwork");this.playlistDiv=$("<div></div>").addClass("playlist");this.controlsDiv=$("<div></div>").addClass("controls").append(this.makeControl(a.playPrevItem,"prev")).append(this.makeControl(a.stopPlaying,"stop")).append(this.makeControl(a.playNextItem,"next"));this.infoDiv=$("<div></div>").addClass("info").html("Click a track to start playing!");$("#"+b).addClass("html5player").append(this.artworkDiv).append(this.playlistDiv).append(this.controlsDiv).append(this.infoDiv).append(c);$(document).bind("keypress",{},this.bind("keyHandler"))},start:function(){this.refresh();this.playItem(0)},update:function(b){var a=this;var c=null;if(this.playing!=-1){c=this.playlist[this.playing]}this.playlist=b;this.refresh();if(c!=null){$.each(this.playlist,function(d,e){if(c.id==e.id){a.selectItem(e);a.playing=d;return false}})}}});window.html5player_reload=function(b){var a=Properties.getUrl("/json/tracks/"+b);$.getJSON(a,{},html5player.update.bind(html5player))};sockso.ImageFlow=function(a){this.ajaxer=a.ajaxer};sockso.ImageFlow.prototype.init=function(){var g=this;var D=0.5;var z=4;var J=14;var I="pointer";var P="default";var v="imageflow";var w="loading";var s="images";var d="captions";var u="scrollbar";var y="slider";var B=0;var i=0;var r=0;var a=0;var t=0;var A=0;var M=new Array();var x=0;var f=false;var O=null;var k=0;var m=0;var C=0;var K=150;function E(){switch(a<r-1||a>r+1){case true:b(r+(a-r)/3);window.setTimeout(E,50);A=1;break;default:A=0;break}}function c(R,S){a=R;t=R;if(A==0){window.setTimeout(E,50);A=1}B=S;var T=img_div.childNodes.item(M[B]);captionText=T.getAttribute("alt");var U=T.getAttribute("src").match(/^.*\/(.*?)$/)[1];if(captionText==""){captionText="&nbsp;"}caption_div.innerHTML=captionText;sockso.util.getMusicElement(new MusicItem(U,captionText),true).appendTo($(caption_div).empty());if(f==false){x=(scrollbar_width*(-(R*100/((max-1)*K)))/100)-C;slider_div.style.marginLeft=(x-J)+"px"}}function b(aa){r=aa;var Y=max;for(var V=0;V<max;V++){var S=img_div.childNodes.item(M[V]);var Z=V*-K;if((Z+max_conf_focus)<t||(Z-max_conf_focus)>t){S.style.visibility="hidden";S.style.display="none"}else{var X=Math.sqrt(10000+aa*aa)+100;var R=aa/X*size+size;S.style.display="block";var T=(S.h/S.w*S.pc)/X*size;switch(T>max_height){case false:var W=S.pc/X*size;break;default:T=max_height;var W=S.w*T/S.h;break}var U=(images_width*0.34-T)+images_top+((T/(D+1))*D);S.style.left=R-(S.pc/2)/X*size+images_left+"px";S.style.height=T+"px";S.style.width=W+"px";S.style.top=(U-90)+"px";S.style.visibility="visible";switch(aa<0){case true:Y++;break;default:Y=Y-1;break}switch(S.i==B){case false:S.onclick=function(){c(this.x_pos,this.i)};break;default:Y=Y+1;S.onclick=function(){$("#imageflow a").click()};break}S.style.zIndex=Y}aa+=K}}function Q(U){imageflow_div=document.getElementById(v);img_div=document.getElementById(s);scrollbar_div=document.getElementById(u);slider_div=document.getElementById(y);caption_div=document.getElementById(d);images_width=img_div.offsetWidth;images_top=imageflow_div.offsetTop;images_left=imageflow_div.offsetLeft;max_conf_focus=z*K;size=images_width*0.5;scrollbar_width=images_width*0.6;J=J*0.5;max_height=images_width*0.51;imageflow_div.style.height=(max_height-20)+"px";img_div.style.height=images_width*0.338+"px";caption_div.style.width=images_width+"px";caption_div.style.marginTop=images_width*0.03+"px";scrollbar_div.style.marginTop=images_width*0.02+"px";scrollbar_div.style.marginLeft=images_width*0.2+"px";scrollbar_div.style.width=scrollbar_width+"px";slider_div.onmousedown=function(){q(this)};slider_div.style.cursor=P;max=img_div.childNodes.length;var S=0;for(var R=0;R<max;R++){var T=img_div.childNodes.item(R);if(T.nodeType==1){M[S]=R;T.onclick=function(){c(this.x_pos,this.i)};T.x_pos=(-S*K);T.i=S;if(U==true){T.w=T.width;T.h=T.height}switch((T.w+1)>(T.h/(D+1))){case true:T.pc=118;break;default:T.pc=100;break}T.url=T.getAttribute("longdesc");T.style.cursor=I;S++}}max=M.length;b(r);c(r,B)}function G(S){var R=document.getElementById(S);R.style.visibility="visible"}function L(S){var R=document.getElementById(S);R.style.visibility="hidden";R.style.display="none"}window.onresize=function(){if(document.getElementById(v)){Q()}};function o(S){var R=false;switch(S>0){case true:if(B>=1){a=a+K;i=B-1;R=true}break;default:if(B<(max-1)){a=a-K;i=B+1;R=true}break}if(R==true){c(a,i)}}function l(R){var S=0;if(!R){R=window.event}if(R.wheelDelta){S=R.wheelDelta/120}else{if(R.detail){S=-R.detail/3}}if(S){o(S)}if(R.preventDefault){R.preventDefault()}R.returnValue=false}function N(){if(window.addEventListener){imageflow_div.addEventListener("DOMMouseScroll",l,false)}imageflow_div.onmousewheel=l}function q(R){O=R;k=m-O.offsetLeft+x}function n(){g.ajaxer.attach("#imageflow");O=null;f=false}function e(W){m=document.all?window.event.clientX:W.pageX;if(O!=null){f=true;C=(m-k)+J;if(C<(-x)){C=-x}if(C>(scrollbar_width-x)){C=scrollbar_width-x}var S=(C+x);var V=S/((scrollbar_width)/(max-1));var U=Math.round(V);var R=(U)*-K;var T=U;O.style.left=C+"px";c(R,T)}}function j(){document.onmousemove=e;document.onmouseup=n}function F(R){R=R||window.event;return R.keyCode}document.onkeydown=function(S){var R=F(S);switch(R){case 39:o(-1);break;case 37:o(1);break}};function H(){if(document.getElementById(v)){Q(true);G(s);G(u);N();j()}}function h(S){$("#imageflow").remove();var T=$("<div></div>").attr("id","imageflow");var R=$("<div></div>").attr("id","images");$("ul li.musicitem").each(function(V,X){var W=$("a",X);var U=$(X).attr("id");$("<img />").addClass("cover").attr({src:Properties.getUrl("file/cover/"+U),alt:$(W[W.length-1]).html()}).appendTo(R)});R.appendTo(T);$('<div id="scrollbar"><div id="slider"></div></div><div id="captions"></div>').appendTo(T);$(S).css({margin:"0px",padding:"0px"}).append(T);H()}function p(){$("ul.imageflow-list").each(function(T,R){if($("li",R).length>1){var U=$("<div></div>");var V=$("<a></a>").html("ImageFlow").addClass("toggler").attr("href","javascript:;").click(function(){var W=$("#imageflow");if(W.length>0){$.each(W,function(){$(this).remove()})}else{h(U)}$(this).blur().toggleClass("togglerHide")});var S=$("<div></div>").addClass("imageflow_toggler").append(V).append(U);S.insertBefore(R)}})}p()};sockso.Locale=function(){var a={};this.setData=function(b){a=b};this.getString=function(c,b){var d=a[c]||"";if(b){$.each(b,function(e,f){d=d.replace("%"+(e+1),f,"g")})}return d}};sockso.Page=function(){};sockso.Page.prototype.init=function(){this.session=new sockso.Session();this.ajaxer=new sockso.Ajaxer({page:this});this.search=new sockso.SearchBox({ajaxer:this.ajaxer});this.player=new sockso.Player({session:this.session});this.playlist=new sockso.Playlist({parentId:"playlist",player:this.player,session:this.session,ajaxer:this.ajaxer,user:user});this.console=new sockso.AdminConsole();this.uploadForm=new sockso.UploadForm("uploadForm");this.related=new sockso.RelatedArtists({properties:Properties,ajaxer:this.ajaxer});this.imageflow=new sockso.ImageFlow({ajaxer:this.ajaxer});this.folders=new sockso.FolderBrowsing(this.player,this.playlist)};sockso.Page.prototype.initLayout=function(){function b(){$("#header").corner("top");$("#footer").corner("bottom");$("#sidebar").corner();$("#login-info").corner("bottom");$("#sidebar h2").corner("top")}$("a#logoutLink").click(function(){return confirm(Locale.getString("www.text.confirmLogout"))});$("a#scrobbleLogLink").click(function(){return confirm(Locale.getString("www.text.confirmScrobbleLog"))});var a=Properties.get("www.skin","original");if(a==="bold"){b()}this.ajaxer.init();this.search.init("#nav");this.player.init("#nav");this.playlist.init();this.playlist.load();this.playlist.refresh();this.console.init();window.player=this.player;window.playlist=this.playlist};sockso.Page.prototype.initContent=function(){this.uploadForm.init();this.related.init();$(".share-music").each(function(){var a=new sockso.Sharer($(this));a.init();a.addStandardLinks()});if(Properties.get("www.imageflow.disable")!=="yes"&&Properties.get("www.covers.disable")!=="yes"){this.imageflow.init()}this.folders.init()};sockso.Player=function(c){c=c||{};var a=this;var f=c.session;var d=null;var g=null;var b="play-type";this.PLAY_FLASH_POPUP="flash";this.PLAY_FLASH_EMBED="flash-embed";this.PLAY_FLEX="flash-flex";this.PLAY_M3U="m3u";this.PLAY_XSPF="xspf";this.PLAY_PLS="pls";this.PLAY_HTML5PLAYER="html5";function e(h,i){return $("<option></option>").append(i).attr({value:h})}this.setPlayType=function(h){a.playType=(h===null||h===undefined||h==="null")?a.PLAY_FLASH_POPUP:h;$("option",g).attr({selected:false}).filter("option[value='"+a.playType+"']").attr({selected:true});f.set(b,a.playType)};this.playFlashEmbed=function(k,j){var i=Properties.getUrl("/file/flash/xspf_player.swf?playlist_url="+escape(Properties.getUrl("/xspf/"+k+j))+"&autoplay=1");var h=$("<a></a>").html("-").click(function(){var m="-";var l=150;if(h.html()=="-"){m="+";l=15}h.html(m);$("#flash-player object").attr("height",l)});$("#flash-player").empty().append(h).append($('<object type="application/x-shockwave-flash" width="400" height="150" data="'+i+'"><param name="movie" value="'+i+'" /></object>')).fadeIn()};this.playHtml5Player=function(i){var h=window.open("","PlayerWin","width=590,height=310,toolbars=no");if(!c.jspAllowReload||h.location.href=="about:blank"){h.location.href=Properties.getUrl("/player/html5/"+i)}else{h.html5player_reload(i)}h.focus()};this.playFlashPopup=function(k){var j=410;var h=180;if(a.playType==a.PLAY_FLEX){j=610;h=310;k+="&player=flexPlayer"}var i=window.open(Properties.getUrl("/player/xspf/"+k),"PlayerWin","width="+j+",height="+h+",toolbars=no");i.focus()};this.play=function(k,h,i){if(!i){i={}}k+="?"+(h!=undefined&&h!=null?h:"");var j=(Properties.get("www.flashPlayer.dontFilterMp3s")=="yes")?"":"&trackType=mp3";switch(a.playType){case a.PLAY_PLS:case a.PLAY_M3U:case a.PLAY_XSPF:location.href=Properties.getUrl(a.playType+"/"+k);break;case a.PLAY_FLASH_EMBED:this.playFlashEmbed(k,j);break;case a.PLAY_HTML5PLAYER:this.playHtml5Player(k);break;case a.PLAY_FLEX:case a.PLAY_FLASH_POPUP:default:this.playFlashPopup(k);break}};this.init=function(h){g=$("<select></select>").addClass("play-options").append(e(a.PLAY_FLASH_EMBED,"Embedded Flash Player")).append(e(a.PLAY_FLASH_POPUP,"Popup Flash Player")).append(e(a.PLAY_FLEX,"Flex Player")).append(e(a.PLAY_M3U,"M3U (iTunes,WMP,etc...)")).append(e(a.PLAY_PLS,"Pls (Winamp,Shoutcast,etc...)")).append(e(a.PLAY_XSPF,"XSPF")).append(e(a.PLAY_HTML5PLAYER,"HTML 5 Player"));$(h).append($("<div></div>").attr("id","play-options").append("Play using: ").change(function(){a.setPlayType(g.val())}).append(g));$("<div></div>").attr({id:"flash-player"}).appendTo($("body")).hide();f.get(b,function(i){a.setPlayType(i)})}};var SPLIT_PLITEM="_:__:_";var SPLIT_PLVARS=":_::_:";function savePlaylist(options){options=options||{};var url=options.url||getPlaylistAsUrl();if(url==""){alert(Locale.getString("www.error.nothingToPlay"))}else{var trackCount=$("#PlaylistContents .playlistItem").length;var name=prompt(Locale.getString("www.confirm.playlistName"));if(name==""||name==null){return}$.ajax({url:Properties.getUrl("/json/savePlaylist/"+encodeURIComponent(name)+"/"+url),success:function(responseText){eval("var result = "+responseText);if(result.match(/^\d+$/)){var li=sockso.util.getMusicElement(new MusicItem("pl"+result,name),true);li.attr({id:"userPlaylist"+result}).append(" by <b>you</b> ("+trackCount+" tracks)").append($("<a/>").attr({href:"javascript:;"}).addClass("delete").click(function(){deletePlaylist(result)}).append(" ").append($("<img/>").attr({src:Properties.getUrl("<skin>/images/remove.png")}))).css({display:"none"});$("#userPlaylists li.empty").remove();$("#userPlaylists").append(li);li.fadeIn()}else{alert("Error: "+result)}}})}}function deletePlaylist(a){if(confirm(Locale.getString("www.confirm.deletePlaylist"))){$.ajax({url:Properties.getUrl("/json/deletePlaylist/"+a),success:deletePlaylistHandler})}}function deletePlaylistHandler(result){eval("result = "+result);if(result.match(/^\d+$/)){$("#userPlaylist"+result).fadeOut(function(){$(this).remove();if($("#userPlaylists li").length==0){$("#userPlaylists").append($("<li/>").addClass("empty").html(Locale.getString("www.text.noResults")))}})}}sockso.Playlist=function(k){var j=new sockso.Base(k),d=k.parentId,i=k.player,h=k.session,c=k.ajaxer,g=[],b=null,e=null,a=0,f=null;j.add=function(m){m.playlistId=a++;g.push(m);if(b){e.remove();var l=j.getMusicElement(m).hide();c.attach(l);b.append(l);l.fadeIn("slow")}j.save()};j.getMusicElement=function(m){var l=sockso.util.getMusicElement(m,false);return l};j.remove=function(l){$.each(g,function(m,n){if(n.playlistId==l){g.splice(m,1);return false}});$("#playlist-item-"+l).slideUp("slow",function(){if(g.length==0){j.showEmpty()}});j.save()};j.clear=function(){g=[];$("li",b).slideUp(function(){b.empty();j.showEmpty()});j.save()};j.setItems=function(l){j.clear();$.each(l,function(m,n){j.add(n)})};j.getItems=function(){return g};j.download=function(){var l=j.getAsUrl();if(l==""){alert(Locale.getString("www.error.nothingToDownload"))}else{location.href=Properties.getUrl("/download/"+l)}};j.play=function(){i.play(j.getAsUrl())};j.share=function(l){if(!f){f=new sockso.Sharer($(l.target));f.init();f.addStandardLinks()}f.setData(j.getAsUrl());f.show()};j.getAsUrl=function(){var l="";for(var m=0;m<g.length;m++){l+="/"+g[m].id}return l.substring(1)};j.load=function(l){h.get("playlist",function(o){if(o){var q=o.split(SPLIT_PLITEM);for(var m=0;m<q.length;m++){var n=q[m];var p=n.split(SPLIT_PLVARS);if(p.length==3){g.push(new sockso.MusicItem(p[0],p[1],p[2]))}}}if(l){l()}})};j.save=function(){var o="";for(var l=0;l<g.length;l++){var n=g[l];var m=n.id+SPLIT_PLVARS+n.name+SPLIT_PLVARS+n.playlistId;o+=(o==""?m:SPLIT_PLITEM+m)}h.set("playlist",o)};j.showEmpty=function(){e.slideUp();b.append(e);e.slideDown("slow")};j.refresh=function(){b.empty();if(g.length==0){j.showEmpty()}else{$.each(g,function(l,n){var m=j.getMusicElement(n);c.attach(m);b.append(m)})}};j.init=function(){var p=Properties.get("www.skin","original");function l(s,t){t=t||j[s];var r="www.link."+s;return $("<a></a>").addClass(s).html(Locale.getString(r)).attr({href:"javascript:;"}).click(t)}var o=$("<h2></h2>").addClass("bg2").html(Locale.getString("www.title.playlist"));var n=$("<div></div>").addClass("controls").append(l("clear")).append(l("play"));if(Properties.get("www.disableDownloads")!="yes"){n.append(l("download"))}n.append(l("share"));e=$("<li></li>").append(Locale.getString("www.text.emptyPlaylist",[p]));b=$("<ul></ul>").addClass("contents").append(e);var q=$("#"+d);q.empty().addClass("playlist").append(o).append(n).append(b);var m=j.getUser();if(m!=null){q.append($("<div></div>").addClass("controls user-controls").append(l("save",function(){savePlaylist({url:j.getAsUrl()})})))}};return j};sockso.Properties=sockso.Hashtable;sockso.Properties.prototype.getUrl=function(b){var a=this.get("server.basepath","/");if(b.startsWith("http://")||b.startsWith("https://")){return b}if(b.startsWith("/")){b=b.substring(1)}if(b.startsWith("<skin>/")){b=b.replace("<skin>","file/skins/"+this.get("www.skin","original"))}if(!a.endsWith("/")){a+="/"}if(!a.startsWith("/")&&!a.startsWith("http://")&&!a.startsWith("https://")){a="/"+a}return a+b};sockso.RelatedArtists=function(options){var self=new sockso.Base(options);var properties=options.properties;var currentRequest=null;self.init=function(){if(self.isEnabled()){$.each(self.getArtistIds(),function(i,artistId){self.getRelatedArtists(artistId,function(relatedArtists){self.updateArtist(artistId,relatedArtists)})})}};self.getRelatedArtists=function(artistId,callback){if(currentRequest){currentRequest.abort()}currentRequest=$.ajax({type:"GET",url:Properties.getUrl("/json/similarArtists/"+artistId),success:function(responseText){currentRequest=null;var artists=null;eval("artists = "+responseText);callback(artists)}})};self.updateArtist=function(artistId,relatedArtists){var list=$("<ul></ul>");$.each(relatedArtists,function(i,related){var relatedId=related.id.substring(2);$("<li/>").addClass("related-artist related-artist-"+relatedId).append($("<a/>").attr({href:Properties.getUrl("/browse/artist/"+relatedId)}).html(related.name)).appendTo(list)});$(".artist-"+artistId).empty().append(list);options.ajaxer.attach(list);self.addPlayLink(list,relatedArtists)};self.addPlayLink=function(list,relatedArtists){if(relatedArtists.length==0){return}var url="";var img=$("<img></img>").attr({src:Properties.getUrl("/<skin>/images/play.png")});$.each(relatedArtists,function(i,related){url+=related.id+"/"});var link=$("<a></a>").addClass("play-related").attr({href:'javascript:player.play("'+url+'","orderBy=random");',title:"Play similar artists"}).append(img);$("<li></li>").append(link).prependTo(list)};self.getArtistIds=function(){var found={};var ids=[];$(".related").each(function(){var classes=$(this).attr("class").split(" ");for(var i=0;i<classes.length;i++){var name=classes[i];var info=name.match(/artist-(\d+)/);if(info){var id=info[1];if(!found[id]){ids.push(id);found[id]=true}}}});return ids};self.isEnabled=function(){return properties.get("www.similarArtists.disable")!="yes"};return self};sockso.SearchBox=function(j){var h=this;var e=null;var f=null;var d=null;var i=null;var c=j.ajaxer;var b=function(){if(d!=null){clearTimeout(d)}d=setTimeout(function(){h.makeQuery(f.attr("value"))},"1000")};var a=function(){i=setTimeout(function(){e.hide()},500)};var g=function(){if($(this).attr("value")!=undefined&&$("li",e).length>0){e.show()}};this.makeQuery=function(k){if(k==undefined||k==""){e.hide()}else{$.getJSON(Properties.getUrl("/json/search/"+encodeURIComponent(k)),{},function(l){h.showResults(l)})}};this.makeMusicItem=function(k){return new MusicItem(k.id,k.name)};this.showResults=function(k){e.empty();if(k.length>0){for(var l=0;l<k.length;l++){var m=this.makeMusicItem(k[l]);e.append(sockso.util.getMusicElement(m,true))}}else{$("<li></li>").append("Nothing found sorry...").appendTo(e)}e.show();c.attach(e)};this.init=function(l){f=$('<input type="text" />').addClass("input search-input").attr({id:"search-input"}).appendTo(l);var k=f.offset();e=$("<ul></ul>").css({top:(k.top+13)+"px",left:k.left+"px"}).addClass("search-results").attr({id:"search-results"}).hide().click(function(){if(i!=null){clearTimeout(i)}f.focus()}).appendTo("body");f.keyup(b).blur(a).focus(g)}};sockso.Session=function(){var a=new Persist.Store("Sockso");this.set=function(b,c){a.set(b,c)};this.get=function(b,c){return a.get(b,function(d,e){c(e)})}};sockso.Sharer=function(a){this.source=a;this.data=null;this.elem=null;this.timeout=null};sockso.Sharer.prototype.init=function(){if(this.source){this.source.click(this.show.bind(this));this.setDataFromClasses(this.source.attr("class"))}this.elem=$("<div></div>").addClass("popup").appendTo("body").hide()};sockso.Sharer.prototype.setDataFromClasses=function(c){var e=c.split(/\s+/);for(var b=0;b<e.length;b++){var a=e[b];var d=a.match(/share-music-(\w+\d+)/);if(d){this.setData(d[1])}}};sockso.Sharer.prototype.setData=function(a){this.data=a};sockso.Sharer.prototype.getData=function(){return this.data};sockso.Sharer.prototype.add=function(d,b,c){var a=this;$("<a></a>").attr("href","javascript:;").click(function(){a.hide();c();return false}).mouseover(this.cancelHide.bind(this)).mouseout(this.setHideDelay.bind(this)).append($("<img />").attr("src",Properties.getUrl("<skin>/images/"+b))).append(d).appendTo(this.elem)};sockso.Sharer.prototype.addStandardLinks=function(){this.add("Show HTML code for player","embed.png",this.onShowHtml.bind(this))};sockso.Sharer.prototype.onShowHtml=function(){var a=window.open(Properties.getUrl("/share/"+this.getData()),"ShareWindow","width=500,height=250,toolbars=no");a.focus()};sockso.Sharer.prototype.show=function(){var a=this.source.position();this.elem.css({top:(a.top+10)+"px",left:a.left+"px"}).show();this.setHideDelay()};sockso.Sharer.prototype.hide=function(){this.elem.fadeOut("slow")};sockso.Sharer.prototype.cancelHide=function(){if(this.timeout!=null){clearTimeout(this.timeout)}};sockso.Sharer.prototype.setHideDelay=function(a){this.cancelHide();this.timeout=setTimeout(this.hide.bind(this),1000)};sockso.UploadForm=function(b){var a=this;a.error=function(c){alert(c)};a.validate=function(){var c=true;$("#"+b+" input[type=text]").each(function(e,d){if(c&&d.value==""){a.error("You missed a field");c=false;return false}});return c};a.init=function(){$("#uploadForm :input[type=submit]").click(a.validate)};return a};sockso.User=function(c){var a=new sockso.Base(c);var d=c.id;var b=c.name;a.getId=function(){return d};a.getName=function(){return b};return a};if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(m,b,n,e,j,k,g,f,d,l){if(!document.getElementById){return}this.DETECT_KEY=l?l:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(m){this.setAttribute("swf",m)}if(b){this.setAttribute("id",b)}if(n){this.setAttribute("width",n)}if(e){this.setAttribute("height",e)}if(j){this.setAttribute("version",new deconcept.PlayerVersion(j.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(k){this.addParam("bgcolor",k)}var a=g?g:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var i=(f)?f:window.location;this.setAttribute("xiRedirectUrl",i);this.setAttribute("redirectUrl","");if(d){this.setAttribute("redirectUrl",d)}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;this.setAttribute("useExpressInstall",true)},setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(b,a){this.params[b]=a},getParams:function(){return this.params},addVariable:function(b,a){this.variables[b]=a},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var c=new Array();var b;var a=this.getVariables();for(b in a){c[c.length]=b+"="+a[b]}return c},getSWFHTML:function(){var b="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var f=this.getParams();for(var e in f){b+=[e]+'="'+f[e]+'" '}var d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"'}b+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var e in c){b+='<param name="'+e+'" value="'+c[e]+'" />'}var a=this.getVariablePairs().join("&");if(a.length>0){b+='<param name="flashvars" value="'+a+'" />'}b+="</object>"}return b},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;c.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var f=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){f=new deconcept.PlayerVersion(a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var b=1;var c=3;while(b){try{c++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);f=new deconcept.PlayerVersion([c,0,0])}catch(d){b=null}}}else{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always"}catch(d){if(f.major==6){return f}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}}if(b!=null){f=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","))}}}return f};deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0;this.minor=a[1]!=null?parseInt(a[1]):0;this.rev=a[2]!=null?parseInt(a[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false}if(this.major>a.major){return true}if(this.minor<a.minor){return false}if(this.minor>a.minor){return true}if(this.rev<a.rev){return false}return true};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;if(c==null){return d}if(d){var b=d.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a].substring(0,b[a].indexOf("="))==c){return b[a].substring((b[a].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var b=document.getElementsByTagName("OBJECT");for(var c=b.length-1;c>=0;c--){b[c].style.display="none";for(var a in b[c]){if(typeof b[c][a]=="function"){b[c][a]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;if(!window.Properties){Properties=new sockso.Properties()}$(function(){var a=new sockso.Page();a.init();a.initLayout();a.initContent()});